/**
 * Доменный тип: Тип связи между задачами
 *
 * Соответствует части API v3: /v3/issues/{issueId}/links
 *
 * ВАЖНО: Тип связи описывает семантику отношения между задачами.
 * Каждая связь имеет два направления:
 * - inward - как связь читается "со стороны связанной задачи"
 * - outward - как связь читается "со стороны текущей задачи"
 *
 * Пример для subtask:
 * ```json
 * {
 *   "id": "subtask",
 *   "inward": "является подзадачей",
 *   "outward": "имеет подзадачу"
 * }
 * ```
 *
 * Если TEST-123 имеет подзадачу TEST-456:
 * - Для TEST-123: "outward" = "имеет подзадачу" (TEST-456)
 * - Для TEST-456: "inward" = "является подзадачей" (TEST-123)
 */

import type { WithUnknownFields } from './types.js';

/**
 * Тип связи между задачами
 *
 * Стандартные типы связей в Яндекс.Трекере:
 * - subtask: родитель/подзадача
 * - depends: зависимость между задачами
 * - relates: общая связь без направления
 * - duplicate: дублирование задач
 * - epic: задача входит в epic
 *
 * ВАЖНО: Все поля обязательны - API всегда возвращает полную информацию.
 */
export interface LinkType {
  /**
   * Идентификатор типа связи (всегда присутствует)
   * @example "subtask", "depends", "relates", "duplicate", "epic"
   */
  readonly id: string;

  /**
   * Входящее направление связи (inward)
   * Описывает связь со стороны связанной задачи
   * @example "является подзадачей", "зависит от", "связана с"
   */
  readonly inward: string;

  /**
   * Исходящее направление связи (outward)
   * Описывает связь со стороны текущей задачи
   * @example "имеет подзадачу", "блокирует", "связана с"
   */
  readonly outward: string;
}

/**
 * LinkType с возможными unknown полями из API.
 * Используется при получении данных от API Трекера.
 */
export type LinkTypeWithUnknownFields = WithUnknownFields<LinkType>;
