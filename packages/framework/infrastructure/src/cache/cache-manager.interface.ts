/**
 * Интерфейс менеджера кеша
 *
 * Паттерн: Strategy Pattern
 * Позволяет легко заменять реализации кеша (Memory → Redis → Memcached)
 *
 * Ответственность (SRP):
 * - Определение операций с кешем (get, set, delete, clear, prune)
 * - НЕТ конкретной реализации (делегируется классам-имплементаторам)
 */

export interface CacheManager {
  /**
   * Получить значение из кеша
   * @param key - ключ кеша
   * @returns значение или undefined, если ключ не найден или истёк
   */
  get<T>(key: string): T | undefined;

  /**
   * Сохранить значение в кеш
   * @param key - ключ кеша
   * @param value - значение для сохранения
   * @param ttl - опциональное время жизни в миллисекундах (если не указано, используется значение по умолчанию)
   */
  set<T>(key: string, value: T, ttl?: number): void;

  /**
   * Удалить значение из кеша
   * @param key - ключ кеша
   */
  delete(key: string): void;

  /**
   * Очистить весь кеш
   */
  clear(): void;

  /**
   * Удалить устаревшие записи из кеша (с истёкшим TTL)
   */
  prune(): void;
}
