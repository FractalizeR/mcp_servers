# 1.2 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (Sequential)

**–¢–∏–ø:** Sequential (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ—Å–ª–µ 1.1)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô
**–í—Ä–µ–º—è:** ~45 –º–∏–Ω—É—Ç
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

---

## –¶–µ–ª—å

–°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `validate-docs-size.ts` —Ä–∞–±–æ—Ç–∞—é—â–∏–º –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ CI/CD.

---

## –ü—Ä–æ–±–ª–µ–º–∞

1. `npm run validate:docs` –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π `tsx: not found`
2. –°–∫—Ä–∏–ø—Ç –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `npm run validate`
3. –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ pre-commit hook
4. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## –†–µ—à–µ–Ω–∏–µ

–û–±–µ—Å–ø–µ—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

---

## –ó–∞–¥–∞—á–∏

### ‚úÖ –ó–∞–¥–∞—á–∞ 1.2.1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å postinstall hook

**–§–∞–π–ª:** `package.json` (–∫–æ—Ä–Ω–µ–≤–æ–π)

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å (—Å—Ç—Ä–æ–∫–∞ 27):**
```json
"postinstall": "./scripts/install-gitleaks.sh"
```

**–î–µ–π—Å—Ç–≤–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `npm install` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏.

**–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ CI:** –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –≤ GitHub Actions.

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 1.2.2: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å validate:docs –≤ validate

**–§–∞–π–ª:** `package.json` (–∫–æ—Ä–Ω–µ–≤–æ–π)

**–ò–∑–º–µ–Ω–∏—Ç—å (—Å—Ç—Ä–æ–∫–∞ 43):**

–ë—ã–ª–æ:
```json
"validate": "npm run lint && npm run typecheck && npm run test && npm run test:smoke && npm run cpd"
```

–°—Ç–∞–ª–æ:
```json
"validate": "npm run lint && npm run typecheck && npm run test && npm run test:smoke && npm run cpd && npm run validate:docs"
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã –ò–ò –∞–≥–µ–Ω—Ç–æ–≤.

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 1.2.3: –î–æ–±–∞–≤–∏—Ç—å validate:docs –≤ validate:quiet

**–§–∞–π–ª:** `package.json` (–∫–æ—Ä–Ω–µ–≤–æ–π)

**–ò–∑–º–µ–Ω–∏—Ç—å (—Å—Ç—Ä–æ–∫–∞ 45):**

–ë—ã–ª–æ:
```json
"validate:quiet": "npm run lint:quiet && npm run typecheck && npm run test:quiet && npm run cpd:quiet"
```

–°—Ç–∞–ª–æ:
```json
"validate:quiet": "npm run lint:quiet && npm run typecheck && npm run test:quiet && npm run cpd:quiet && npm run validate:docs"
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `validate:docs` –ù–ï –∏–º–µ–µ—Ç quiet —Ä–µ–∂–∏–º–∞ (–≤—ã–≤–æ–¥ –º–∏–Ω–∏–º–∞–ª–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 1.2.4: –°–æ–∑–¥–∞—Ç—å –∞–ª–∏–∞—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

**–§–∞–π–ª:** `package.json` (–∫–æ—Ä–Ω–µ–≤–æ–π)

**–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ validate:quiet:**
```json
"docs": "npm run validate:docs",
"docs:watch": "watch 'npm run validate:docs' packages/*/CLAUDE.md packages/*/ARCHITECTURE.md packages/**/README.md"
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –£–¥–æ–±–Ω—ã–π alias –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 1.2.5: –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ README.md

**–§–∞–π–ª:** `README.md` (–∫–æ—Ä–Ω–µ–≤–æ–π)

**–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ–∫—Ü–∏—é "Scripts":**
```markdown
### Documentation Validation

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
npm run validate:docs

# –ë—ã—Å—Ç—Ä—ã–π –∞–ª–∏–∞—Å
npm run docs
```

**–õ–∏–º–∏—Ç—ã:**
- CLAUDE.md: ‚â§400 —Å—Ç—Ä–æ–∫
- ARCHITECTURE.md: ‚â§700 —Å—Ç—Ä–æ–∫
- Module README.md: ‚â§500 —Å—Ç—Ä–æ–∫

–°–º. [DOCS.md](./DOCS.md) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ª–∏–º–∏—Ç–æ–≤.
```

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 1.2.6: (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å pre-commit hook

**–§–∞–π–ª:** `.husky/pre-commit`

**–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:**
```bash
# Validate documentation sizes
echo "Validating documentation sizes..."
npm run validate:docs || {
  echo "‚ùå Documentation size limits exceeded!"
  echo "Run 'npm run validate:docs' for details"
  exit 1
}
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ü—Ä–µ–≤–µ–Ω—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.

**–í–ê–ñ–ù–û:** –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –∫–æ–º–º–∏—Ç—ã. –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è `*.md` —Ñ–∞–π–ª–æ–≤:

```bash
# Check if any markdown files changed
if git diff --cached --name-only | grep -q '\.md$'; then
  echo "Markdown files changed, validating documentation sizes..."
  npm run validate:docs || {
    echo "‚ùå Documentation size limits exceeded!"
    exit 1
  }
fi
```

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 1.2.7: –û–±–Ω–æ–≤–∏—Ç—å CLAUDE.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π

**–§–∞–π–ª:** `CLAUDE.md` (–∫–æ—Ä–Ω–µ–≤–æ–π)

**–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ–∫—Ü–∏—é "üìã –ú–ï–¢–ê: –ü—Ä–∞–≤–∏–ª–∞ –≤–µ–¥–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏":**

```markdown
### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤

**–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
```bash
npm run validate:docs
```

**–ï—Å–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç:**
1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è (—Å–º. –≤—ã—à–µ)
2. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
3. –ö–æ–º–º–∏—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 1.2.8: –°–æ–∑–¥–∞—Ç—å GitHub Actions workflow (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–§–∞–π–ª:** `.github/workflows/docs-validation.yml` (–Ω–æ–≤—ã–π)

```yaml
name: Documentation Validation

on:
  pull_request:
    paths:
      - '**.md'
      - 'scripts/validate-docs-size.ts'
  push:
    branches:
      - main
      - master
    paths:
      - '**.md'

jobs:
  validate-docs:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '22'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Validate documentation sizes
        run: npm run validate:docs
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ CI/CD.

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [ ] `npm run validate:docs` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ (–ø–æ—Å–ª–µ `npm install`)
- [ ] –°–∫—Ä–∏–ø—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `npm run validate`
- [ ] –°–∫—Ä–∏–ø—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `npm run validate:quiet`
- [ ] –°–æ–∑–¥–∞–Ω –∞–ª–∏–∞—Å `npm run docs`
- [ ] README.md –æ–±–Ω–æ–≤–ª–µ–Ω —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- [ ] CLAUDE.md –æ–±–Ω–æ–≤–ª–µ–Ω —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–ª–µ–Ω pre-commit hook
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ–∑–¥–∞–Ω GitHub Actions workflow

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–¢—Ä–µ–±—É–µ—Ç:**
- ‚úÖ 1.1 –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏–º–∏—Ç–æ–≤ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

**–ë–ª–æ–∫–∏—Ä—É–µ—Ç:**
- 2.x –í—Å–µ –∑–∞–¥–∞—á–∏ –ø–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## –†–∏—Å–∫–∏

- **–°—Ä–µ–¥–Ω–∏–π:** Pre-commit hook –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –∫–æ–º–º–∏—Ç—ã
  - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –î–µ–ª–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —É—Å–ª–æ–≤–Ω–æ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è .md —Ñ–∞–π–ª–æ–≤)

- **–ù–∏–∑–∫–∏–π:** GitHub Actions —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ secrets
  - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** Workflow –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤, —Ç–æ–ª—å–∫–æ npm ci

---

## –í–∞–ª–∏–¥–∞—Ü–∏—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç–∞
npm install
npm run validate:docs

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# ‚ùå –û—à–∏–±–∫–∏ (–ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç):
#   packages/servers/yandex-tracker/tests/README.md: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç: 622/500 —Å—Ç—Ä–æ–∫ (+122)
#
# ‚ö†Ô∏è  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–ø—Ä–µ–≤—ã—à–µ–Ω–∞ —Ü–µ–ª—å):
#   ARCHITECTURE.md: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∫—Ä–∞—Ç–∏—Ç—å: 564/600 —Å—Ç—Ä–æ–∫ (—Ü–µ–ª—å) | 564/700 —Å—Ç—Ä–æ–∫ (–ª–∏–º–∏—Ç)
#   packages/servers/yandex-tracker/README.md: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∫—Ä–∞—Ç–∏—Ç—å: 514/500 —Å—Ç—Ä–æ–∫ (—Ü–µ–ª—å) | 514/600 —Å—Ç—Ä–æ–∫ (–ª–∏–º–∏—Ç)
#
# ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
#   CLAUDE.md: OK: 333/350 —Å—Ç—Ä–æ–∫ (—Ü–µ–ª—å) | 333/400 —Å—Ç—Ä–æ–∫ (–ª–∏–º–∏—Ç)
#   ...

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤ validate
npm run validate

# –î–æ–ª–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (–∫—Ä–æ–º–µ docs –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è)

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–ª–∏–∞—Å
npm run docs

# –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ validate:docs

# 4. –ï—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω pre-commit hook:
echo "test" >> CLAUDE.md
git add CLAUDE.md
git commit -m "test"

# –î–æ–ª–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å validate:docs
```

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ validate:**
1. lint
2. typecheck
3. test
4. test:smoke
5. cpd
6. **validate:docs** ‚Üê –Ω–æ–≤–æ–µ

**–ü–æ—á–µ–º—É validate:docs –ø–æ—Å–ª–µ–¥–Ω–∏–º?**
- –°–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (~1 —Å–µ–∫—É–Ω–¥–∞)
- –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –õ–æ–≥–∏—á–Ω–æ –ø–æ—Å–ª–µ –≤—Å–µ—Ö code-related –ø—Ä–æ–≤–µ—Ä–æ–∫

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å validate:docs –ø–µ—Ä–≤—ã–º (fail fast):
```json
"validate": "npm run validate:docs && npm run lint && ..."
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –±—ã—Å—Ç—Ä–æ —É–∑–Ω–∞—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π.
