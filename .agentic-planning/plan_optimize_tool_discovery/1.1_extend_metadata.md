# Этап 1.1: Расширение метаданных в Core Framework

**Цель:** Добавить поля category, subcategory, priority, tags в базовую систему типов

**Затронутые пакеты:** `@mcp-framework/core`

**Время:** 1-1.5 часа

---

## Чек-лист задач

### 1. Обновить `ToolMetadata` интерфейс

**Файл:** `packages/framework/core/src/tools/base/base-definition.ts`

- [ ] Добавить поле `category: string` (обязательное)
- [ ] Добавить поле `subcategory?: string` (опциональное)
- [ ] Добавить поле `priority?: 'critical' | 'high' | 'normal' | 'low'` (опциональное, default: 'normal')
- [ ] Добавить поле `tags?: readonly string[]` (опциональное)
- [ ] Обновить JSDoc комментарии для новых полей

**Пример:**
```typescript
export interface ToolMetadata {
  name: string;
  description: string;
  inputSchema: JSONSchema;

  // Организация и категоризация
  category: string;              // "issues", "projects", "users"
  subcategory?: string;          // "read", "write", "workflow"
  priority?: 'critical' | 'high' | 'normal' | 'low';
  tags?: readonly string[];      // ["task", "create", "required"]
}
```

### 2. Обновить типы экспорта

**Файл:** `packages/framework/core/src/tools/base/index.ts`

- [ ] Убедиться что `ToolMetadata` экспортируется
- [ ] Добавить type exports для priority levels если нужно

### 3. Валидация в тестах

**Файл:** `packages/framework/core/tests/tools/base-tool.test.ts`

- [ ] Добавить тест: metadata с обязательным `category`
- [ ] Добавить тест: валидация `priority` enum
- [ ] Добавить тест: `tags` readonly array
- [ ] Добавить тест: опциональность `subcategory`

### 4. Типобезопасность

- [ ] Запустить `npm run typecheck --workspace=@mcp-framework/core`
- [ ] Исправить все TypeScript ошибки
- [ ] Убедиться что обратная совместимость НЕ нарушена (category обязательное, но существующие tools сломаются - это OK, исправим в следующем этапе)

---

## Ожидаемый результат

✅ Обновлённый `ToolMetadata` интерфейс с полями для категоризации
✅ Все типы корректно экспортируются
✅ Тесты покрывают новые поля
✅ TypeScript компилируется без ошибок

---

## Следующий этап

→ **1.2_update_tool_registry.md** — добавить сортировку по priority в ToolRegistry
