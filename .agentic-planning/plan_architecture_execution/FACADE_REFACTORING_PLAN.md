# YandexTrackerFacade Refactoring Plan

**Version:** 1.0
**Created:** 2025-11-21
**Status:** üìã Planning Complete - Ready for Execution

---

## Executive Summary

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- YandexTrackerFacade: 1080 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ (God Object)
- 61 –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ (14 –¥–æ–º–µ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø)
- –ù–∞—Ä—É—à–∞–µ—Ç Single Responsibility Principle
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

**–¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- Facade: ~80-100 —Å—Ç—Ä–æ–∫ (orchestration only)
- 14 –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: ~20-180 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
- –ë–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞: 14-20 —á–∞—Å–æ–≤
- –° buffer (20%): **17-24 —á–∞—Å–∞**
- –ü—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–∏ (4 –∞–≥–µ–Ω—Ç–∞): **12-17 —á–∞—Å–æ–≤**

---

## Current Analysis

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–∫—É—â–µ–≥–æ Facade

**–§–∞–π–ª:** `packages/servers/yandex-tracker/src/tracker_api/facade/yandex-tracker.facade.ts`

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –°—Ç—Ä–æ–∫ –∫–æ–¥–∞: 1080
- –ü—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤: 61
- –ü—Ä–∏–≤–∞—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤: 1 (`getOperation()`)
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 1 (DI Container)

### –ì—Ä—É–ø–ø—ã –º–µ—Ç–æ–¥–æ–≤ –ø–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

| –ì—Ä—É–ø–ø–∞ | –ú–µ—Ç–æ–¥–æ–≤ | –û—Ü–µ–Ω–∫–∞ LOC | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|--------|---------|-----------|-------------|
| **User** | 1 | ~10 | –ü—Ä–æ—Å—Ç–∞—è |
| **Issue Core** | 7 | ~80 | –°–ª–æ–∂–Ω–∞—è (batch, search, transitions) |
| **Issue Links** | 3 | ~40 | –ü—Ä–æ—Å—Ç–∞—è |
| **Issue Attachments** | 5 | ~120 | –°–ª–æ–∂–Ω–∞—è (downloadAttachment, getThumbnail –ª–æ–≥–∏–∫–∞) |
| **Comments** | 4 | ~70 | –°—Ä–µ–¥–Ω—è—è |
| **Checklist** | 4 | ~70 | –°—Ä–µ–¥–Ω—è—è |
| **Worklog** | 4 | ~70 | –°—Ä–µ–¥–Ω—è—è |
| **Queue** | 6 | ~80 | –°—Ä–µ–¥–Ω—è—è |
| **Component** | 4 | ~70 | –°—Ä–µ–¥–Ω—è—è |
| **Project** | 5 | ~70 | –°—Ä–µ–¥–Ω—è—è |
| **Field** | 5 | ~70 | –°—Ä–µ–¥–Ω—è—è |
| **Board** | 5 | ~70 | –°—Ä–µ–¥–Ω—è—è |
| **Sprint** | 4 | ~70 | –°—Ä–µ–¥–Ω—è—è |
| **Bulk Change** | 4 | ~140 | –°–ª–æ–∂–Ω–∞—è (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è) |

### Dependency Graph

```
                YandexTrackerFacade (1080 LOC)
                        |
                 DI Container
                        |
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ               ‚îÇ               ‚îÇ
    Operations     HttpClient      DTO/Entities
     (61 —à—Ç)          (base)         (types)
        ‚îÇ
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ     ‚îÇ     ‚îÇ      ‚îÇ      ‚îÇ      ‚îÇ
User  Issue Queue Board Sprint  ... (14 domains)
```

**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è:**
- ‚úÖ –ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –í—Å–µ –≥—Ä—É–ø–ø—ã - leaf dependencies (–º–æ–∂–Ω–æ –∏–∑–≤–ª–µ–∫–∞—Ç—å –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ)
- ‚úÖ –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω `getOperation<T>(name)`
- ‚ö†Ô∏è AttachmentService –∏ BulkChangeService –∏–º–µ—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –≤ Facade

### –ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **God Object Anti-pattern**
   - 1080 —Å—Ç—Ä–æ–∫ –Ω–∞—Ä—É—à–∞—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø Single Responsibility
   - –°–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π –º–µ—Ç–æ–¥ —Å—Ä–µ–¥–∏ 61
   - –í—ã—Å–æ–∫–∞—è cognitive complexity

2. **–ù–∏–∑–∫–∞—è —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞ = —Ä–æ—Å—Ç Facade
   - –ù–µ—Ç —á–µ—Ç–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

3. **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –ù—É–∂–Ω–æ mock 61 –æ–ø–µ—Ä–∞—Ü–∏—é –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è
   - –¢–µ—Å—Ç—ã –±–æ–ª—å—à–∏–µ –∏ —Å–ª–æ–∂–Ω—ã–µ

4. **–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ Open/Closed**
   - –ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ Facade

---

## Target Architecture

### –í—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: Option A - Split by Domain Entity

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ Single Responsibility Principle
- ‚úÖ High Cohesion - –≤—Å–µ –º–µ—Ç–æ–¥—ã –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ Low Coupling - —Å–µ—Ä–≤–∏—Å—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã
- ‚úÖ Domain Alignment - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–µ API
- ‚úÖ Easy to Extend - –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω = –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å
- ‚úÖ Testability - –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å

### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
packages/servers/yandex-tracker/src/tracker_api/facade/
‚îú‚îÄ‚îÄ yandex-tracker.facade.ts              (~80-100 LOC, orchestration)
‚îú‚îÄ‚îÄ base-facade-service.ts                (~30 LOC, abstract class)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ user.service.ts                   (~20 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ issue.service.ts                  (~180 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ issue-link.service.ts             (~50 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ issue-attachment.service.ts       (~130 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ comment.service.ts                (~80 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ checklist.service.ts              (~80 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ worklog.service.ts                (~80 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ queue.service.ts                  (~100 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ component.service.ts              (~80 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ project.service.ts                (~90 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ field.service.ts                  (~90 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ board.service.ts                  (~90 LOC)
‚îÇ   ‚îú‚îÄ‚îÄ sprint.service.ts                 (~80 LOC)
‚îÇ   ‚îî‚îÄ‚îÄ bulk-change.service.ts            (~150 LOC)
‚îî‚îÄ‚îÄ index.ts                              (~30 LOC, re-exports)
```

**Total: ~1320 LOC** (–±—ã–ª–æ 1080, +240 LOC –¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)

### –ü–∞—Ç—Ç–µ—Ä–Ω —Å–µ—Ä–≤–∏—Å–æ–≤

**Base –∫–ª–∞—Å—Å (base-facade-service.ts):**
```typescript
import type { Container } from 'inversify';

export abstract class BaseFacadeService {
  constructor(protected readonly container: Container) {}

  /**
   * Helper –¥–ª—è –ª–µ–Ω–∏–≤–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ DI
   */
  protected getOperation<T>(operationName: string): T {
    return this.container.get<T>(Symbol.for(operationName));
  }
}
```

**–ü—Ä–∏–º–µ—Ä —Å–µ—Ä–≤–∏—Å–∞:**
```typescript
import { injectable } from 'inversify';
import { BaseFacadeService } from '../base-facade-service.js';
import type { CreateIssueDto, IssueWithUnknownFields } from '#tracker_api/dto/index.js';

@injectable()
export class IssueService extends BaseFacadeService {
  async createIssue(data: CreateIssueDto): Promise<IssueWithUnknownFields> {
    const operation = this.getOperation<{
      execute: (d: CreateIssueDto) => Promise<IssueWithUnknownFields>;
    }>('CreateIssueOperation');
    return operation.execute(data);
  }

  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ 6 –º–µ—Ç–æ–¥–æ–≤
}
```

**–ù–æ–≤—ã–π Facade (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ):**
```typescript
import { injectable, inject } from 'inversify';
import { IssueService } from './services/issue.service.js';
import { QueueService } from './services/queue.service.js';
// ... –∏–º–ø–æ—Ä—Ç—ã –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 12 —Å–µ—Ä–≤–∏—Å–æ–≤

@injectable()
export class YandexTrackerFacade {
  constructor(
    @inject(IssueService) private readonly issueService: IssueService,
    @inject(QueueService) private readonly queueService: QueueService,
    // ... inject –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 12 —Å–µ—Ä–≤–∏—Å–æ–≤
  ) {}

  // Issue methods - –ø—Ä–æ—Å—Ç–æ–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  async createIssue(data: CreateIssueDto) {
    return this.issueService.createIssue(data);
  }

  async findIssues(params: FindIssuesInputDto) {
    return this.issueService.findIssues(params);
  }

  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ 59 –º–µ—Ç–æ–¥–æ–≤ (–≤—Å–µ –¥–µ–ª–µ–≥–∏—Ä—É—é—Ç)
}
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

**–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã:**
- –ù–µ—Ç –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç Container
- Facade –∏–Ω–∂–µ–∫—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ DI

```
  DI Container
       |
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ         ‚îÇ        ‚îÇ         ‚îÇ
User    Issue    Queue    ... (14 —Å–µ—Ä–≤–∏—Å–æ–≤)
Service  Service  Service
  ‚îÇ         ‚îÇ        ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
      YandexTrackerFacade
```

---

## Migration Strategy

### –ü–æ–¥—Ö–æ–¥: Incremental Refactoring

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
1. ‚úÖ –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ Facade –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
2. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
3. ‚úÖ –ù–µ —É–¥–∞–ª—è–µ–º Facade –¥–æ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
4. ‚úÖ –û—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –∫ —Å–ª–æ–∂–Ω–æ–º—É

### –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω

#### –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-1.5h)

- **–®–∞–≥ 0.1**: –°–æ–∑–¥–∞—Ç—å `base-facade-service.ts` (20 –º–∏–Ω)
  - Abstract class —Å `getOperation<T>(name)` helper
- **–®–∞–≥ 0.2**: –°–æ–∑–¥–∞—Ç—å `services/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (5 –º–∏–Ω)
- **–®–∞–≥ 0.3**: –°–æ–∑–¥–∞—Ç—å `services/index.ts` (5 –º–∏–Ω)
- **–®–∞–≥ 0.4**: –û–±–Ω–æ–≤–∏—Ç—å `facade/index.ts` (10 –º–∏–Ω)
- **Validation**: `npm run validate`
- **Commit**: `refactor(facade): prepare infrastructure for service extraction`

#### –§–∞–∑–∞ 1: –ü—Ä–æ—Å—Ç—ã–µ —Å–µ—Ä–≤–∏—Å—ã (2-3h, –º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

**–ü–æ—Ä—è–¥–æ–∫:** UserService ‚Üí IssueLinkService ‚Üí ComponentService ‚Üí FieldService

| –®–∞–≥ | –°–µ—Ä–≤–∏—Å | –ú–µ—Ç–æ–¥–æ–≤ | Effort | Commit |
|-----|--------|---------|--------|--------|
| 1.1 | UserService | 1 | 20 –º–∏–Ω | `refactor(facade): extract UserService` |
| 1.2 | IssueLinkService | 3 | 30 –º–∏–Ω | `refactor(facade): extract IssueLinkService` |
| 1.3 | ComponentService | 4 | 30 –º–∏–Ω | `refactor(facade): extract ComponentService` |
| 1.4 | FieldService | 5 | 40 –º–∏–Ω | `refactor(facade): extract FieldService` |

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞:**
1. –°–æ–∑–¥–∞—Ç—å `services/{name}.service.ts`
2. –ò–∑–≤–ª–µ—á—å –º–µ—Ç–æ–¥—ã –∏–∑ Facade
3. –û–±–Ω–æ–≤–∏—Ç—å Facade (inject —Å–µ—Ä–≤–∏—Å, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã)
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run validate`
5. –ö–æ–º–º–∏—Ç

#### –§–∞–∑–∞ 2: –°—Ä–µ–¥–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (3-4h, –º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

**–ü–æ—Ä—è–¥–æ–∫:** CommentService ‚Üí ChecklistService ‚Üí WorklogService ‚Üí SprintService ‚Üí ProjectService ‚Üí BoardService

| –®–∞–≥ | –°–µ—Ä–≤–∏—Å | –ú–µ—Ç–æ–¥–æ–≤ | Effort | Commit |
|-----|--------|---------|--------|--------|
| 2.1 | CommentService | 4 | 30 –º–∏–Ω | `refactor(facade): extract CommentService` |
| 2.2 | ChecklistService | 4 | 30 –º–∏–Ω | `refactor(facade): extract ChecklistService` |
| 2.3 | WorklogService | 4 | 30 –º–∏–Ω | `refactor(facade): extract WorklogService` |
| 2.4 | SprintService | 4 | 30 –º–∏–Ω | `refactor(facade): extract SprintService` |
| 2.5 | ProjectService | 5 | 40 –º–∏–Ω | `refactor(facade): extract ProjectService` |
| 2.6 | BoardService | 5 | 40 –º–∏–Ω | `refactor(facade): extract BoardService` |

#### –§–∞–∑–∞ 3: –°–ª–æ–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (3-4h)

**–ü–æ—Ä—è–¥–æ–∫:** QueueService ‚Üí IssueAttachmentService ‚Üí BulkChangeService

| –®–∞–≥ | –°–µ—Ä–≤–∏—Å | –ú–µ—Ç–æ–¥–æ–≤ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ | Effort | Commit |
|-----|--------|---------|-------------|--------|--------|
| 3.1 | QueueService | 6 | - | 50 –º–∏–Ω | `refactor(facade): extract QueueService` |
| 3.2 | IssueAttachmentService | 5 | downloadAttachment, getThumbnail –ª–æ–≥–∏–∫–∞ | 1h | `refactor(facade): extract IssueAttachmentService` |
| 3.3 | BulkChangeService | 4 | –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 1h | `refactor(facade): extract BulkChangeService` |

**–í–∞–∂–Ω–æ –¥–ª—è –®–∞–≥–∞ 3.2:**
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ `downloadAttachment()`
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ `getThumbnail()`

**–í–∞–∂–Ω–æ –¥–ª—è –®–∞–≥–∞ 3.3:**
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–µ—Å—å JSDoc —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –§–∞–∑–∞ 4: –°–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å (2-3h)

**–®–∞–≥ 4.1**: IssueService (7 –º–µ—Ç–æ–¥–æ–≤, 1.5h)
- –ò–∑–≤–ª–µ—á—å: getIssues, findIssues, createIssue, updateIssue, getIssueChangelog, getIssueTransitions, transitionIssue
- Commit: `refactor(facade): extract IssueService`

#### –§–∞–∑–∞ 5: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è Facade (1-2h)

**–®–∞–≥ 5.1**: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Facade (30 –º–∏–Ω)
- –£–¥–∞–ª–∏—Ç—å `private readonly container: Container`
- Inject –≤—Å–µ 14 —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ `@inject()`

**–®–∞–≥ 5.2**: –£–¥–∞–ª–∏—Ç—å –º–µ—Ç–æ–¥ `getOperation` (20 –º–∏–Ω)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –º–µ—Ç–æ–¥—ã –¥–µ–ª–µ–≥–∏—Ä—É—é—Ç —Å–µ—Ä–≤–∏—Å–∞–º
- –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥ `getOperation()`

**–®–∞–≥ 5.3**: –û–±–Ω–æ–≤–∏—Ç—å DI —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é (40 –º–∏–Ω)
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ 14 —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ container
- –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é Facade (inject —Å–µ—Ä–≤–∏—Å–æ–≤ –≤–º–µ—Å—Ç–æ Container)
- Commit: `refactor(facade): finalize service-based architecture`

#### –§–∞–∑–∞ 6: –¢–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (2-3h)

**–®–∞–≥ 6.1**: –û–±–Ω–æ–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã Facade (1.5h)
- –°–æ–∑–¥–∞—Ç—å helpers –¥–ª—è mock —Å–µ—Ä–≤–∏—Å–æ–≤
- –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã (mock —Å–µ—Ä–≤–∏—Å–æ–≤ –≤–º–µ—Å—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–π)
- Commit: `test(facade): update tests for service-based architecture`

**–®–∞–≥ 6.2**: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (1h)
- –û–±–Ω–æ–≤–∏—Ç—å `facade/README.md`
- –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- Commit: `docs(facade): update documentation for service-based architecture`

**–®–∞–≥ 6.3**: –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (30 –º–∏–Ω)
- `npm run validate` (full)
- `npm run test:smoke`
- `npm run cpd`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### Breakpoints –¥–ª—è –∫–æ–º–º–∏—Ç–æ–≤

- ‚úÖ –ü–æ—Å–ª–µ –§–∞–∑—ã 0 (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
- ‚úÖ –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (–§–∞–∑—ã 1-4)
- ‚úÖ –ü–æ—Å–ª–µ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ Facade (–§–∞–∑–∞ 5)
- ‚úÖ –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤ (–§–∞–∑–∞ 6.1)
- ‚úÖ –ü–æ—Å–ª–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–§–∞–∑–∞ 6.2)

**–ò—Ç–æ–≥–æ: ~20 –∫–æ–º–º–∏—Ç–æ–≤**

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

```bash
# 1. –°–±–æ—Ä–∫–∞
npm run build

# 2. –¢–∏–ø—ã
npm run typecheck

# 3. –õ–∏–Ω—Ç–µ—Ä
npm run lint

# 4. –¢–µ—Å—Ç—ã
npm run test

# 5. –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (–µ—Å–ª–∏ –≤—Ä–µ–º—è –µ—Å—Ç—å)
npm run validate
```

---

## Risks & Mitigation

### Risk Matrix

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | Mitigation |
|------|------------|---------|----------|------------|
| Breaking changes –¥–ª—è Tools | üü¢ LOW | HIGH | P3 | –ù–µ –º–µ–Ω—è—Ç—å API Facade, –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ |
| –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | üü¢ NONE | HIGH | P4 | N/A (–¥–æ–∫–∞–∑–∞–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤ –∞–Ω–∞–ª–∏–∑–µ) |
| Performance degradation | üü¢ VERY LOW | LOW | P4 | –ò–∑–º–µ—Ä–∏—Ç—å performance –¥–æ/–ø–æ—Å–ª–µ smoke tests |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å DI —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ | üü° MEDIUM | MEDIUM | P2 | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @injectable(), auto-registration helper |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ | üü† HIGH | MEDIUM | **P1** | –í—ã–¥–µ–ª–∏—Ç—å –≤—Ä–µ–º—è (1.5h), —Å–æ–∑–¥–∞—Ç—å mock helpers |
| Git conflicts –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–∏ | üü° MEDIUM | LOW | P3 | –û—Ç–¥–µ–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏, –º–µ—Ä–∂–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ |

### –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∏—Å–∫–æ–≤

#### üü¢ P3: Breaking changes –¥–ª—è Tools

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Facade –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Tools

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è (API Facade –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)

**–í–ª–∏—è–Ω–∏–µ:** –í—ã—Å–æ–∫–æ–µ (–µ—Å–ª–∏ —Å–ª—É—á–∏—Ç—Å—è, –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ Tools)

**Mitigation:**
1. ‚úÖ –ù–µ –º–µ–Ω—è—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ Facade
2. ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
3. ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å `npm run validate` –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
4. ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å `npm run test:smoke` –≤ –∫–æ–Ω—Ü–µ

#### üü¢ P4: –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–µ—Ä–≤–∏—Å—ã –º–æ–≥—É—Ç —Å–ª—É—á–∞–π–Ω–æ –∑–∞–≤–∏—Å–µ—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–¥–æ–∫–∞–∑–∞–Ω–æ –≤ –∞–Ω–∞–ª–∏–∑–µ - –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã)

**Mitigation:** N/A

#### üü¢ P4: Performance degradation

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –≤—ã–∑–æ–≤—ã

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è

**–í–ª–∏—è–Ω–∏–µ:** –ù–∏–∑–∫–æ–µ (overhead ~1-2%)

**Mitigation:**
1. ‚úÖ –ò–∑–º–µ—Ä–∏—Ç—å performance –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (smoke tests)
2. ‚úÖ –ò–∑–º–µ—Ä–∏—Ç—å performance –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
3. ‚úÖ –ï—Å–ª–∏ degradation >5% ‚Üí –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å (–Ω–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ)

#### üü° P2: –°–ª–æ–∂–Ω–æ—Å—Ç—å DI —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ù—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å 14 —Å–µ—Ä–≤–∏—Å–æ–≤ + –æ–±–Ω–æ–≤–∏—Ç—å Facade injection

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏)

**Mitigation:**
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã `@injectable()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å auto-registration helper –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
3. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å DI –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

#### üü† P1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (HIGHEST PRIORITY)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—Å–µ —Ç–µ—Å—Ç—ã Facade –∏—Å–ø–æ–ª—å–∑—É—é—Ç mock –æ–ø–µ—Ä–∞—Ü–∏–π, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ mock —Å–µ—Ä–≤–∏—Å–æ–≤

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è

**–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ (–æ—Ç–Ω–∏–º–µ—Ç –≤—Ä–µ–º—è)

**Mitigation:**
1. ‚úÖ –í—ã–¥–µ–ª–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (1.5h –≤ –§–∞–∑–µ 6.1)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å helper —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è mock —Å–µ—Ä–≤–∏—Å–æ–≤
3. ‚úÖ –û–±–Ω–æ–≤–ª—è—Ç—å —Ç–µ—Å—Ç—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ (–ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏–ª–∏ –≤ –∫–æ–Ω—Ü–µ)
4. ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –æ—Ç–ª–æ–∂–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–æ –§–∞–∑—ã 6

#### üü° P3: Git conflicts –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–µ—Å–∫–æ–ª—å–∫–æ –∞–≥–µ–Ω—Ç–æ–≤ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç Facade –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å –§–∞–∑—ã 1-3)

**–í–ª–∏—è–Ω–∏–µ:** –ù–∏–∑–∫–æ–µ (–≤—Ä–µ–º—è –Ω–∞ resolve conflicts)

**Mitigation:**
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
2. ‚úÖ –ú–µ—Ä–∂–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–Ω–µ batch merge)
3. ‚úÖ –ü–µ—Ä–≤—ã–π –∞–≥–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–§–∞–∑–∞ 0), –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∂–¥—É—Ç
4. ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —á–µ—Ä–µ–∑ execution plan

---

## Success Criteria

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

- [x] Facade <150 —Å—Ç—Ä–æ–∫ (—Ç–æ–ª—å–∫–æ orchestration)
- [x] –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å <200 —Å—Ç—Ä–æ–∫
- [x] –í—Å–µ 61 –º–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—ã
- [x] –í—Å–µ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [x] –ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- [x] All tests pass (`npm run test`)
- [x] All smoke tests pass (`npm run test:smoke`)
- [x] No linting errors (`npm run lint`)
- [x] No type errors (`npm run typecheck`)
- [x] No code duplication >5% (`npm run cpd`)

### Performance –∫—Ä–∏—Ç–µ—Ä–∏–∏

- [x] No performance degradation >5% (smoke tests)
- [x] Overhead –Ω–∞ –≤—ã–∑–æ–≤ <2%

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [x] `facade/README.md` –æ–±–Ω–æ–≤–ª–µ–Ω
- [x] –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- [x] Migration guide —Å–æ–∑–¥–∞–Ω

---

## Timeline Estimate

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞

| –§–∞–∑–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | Effort (—á) | –ú–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å? |
|------|----------|-----------|-------------------|
| **–§–∞–∑–∞ 0** | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ | 1-1.5h | –ù–µ—Ç |
| **–§–∞–∑–∞ 1** | 4 –ø—Ä–æ—Å—Ç—ã—Ö —Å–µ—Ä–≤–∏—Å–∞ | 2-3h | ‚úÖ –î–∞ (4 –ø–æ—Ç–æ–∫–∞) |
| **–§–∞–∑–∞ 2** | 6 —Å—Ä–µ–¥–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ | 3-4h | ‚úÖ –î–∞ (6 –ø–æ—Ç–æ–∫–æ–≤) |
| **–§–∞–∑–∞ 3** | 3 —Å–ª–æ–∂–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞ | 3-4h | ‚úÖ –î–∞ (3 –ø–æ—Ç–æ–∫–∞) |
| **–§–∞–∑–∞ 4** | IssueService | 2-3h | –ù–µ—Ç |
| **–§–∞–∑–∞ 5** | –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è Facade | 1-2h | –ù–µ—Ç |
| **–§–∞–∑–∞ 6** | –¢–µ—Å—Ç—ã + –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 2-3h | –ß–∞—Å—Ç–∏—á–Ω–æ |

### –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–ë–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞:** 14-20h

**–° buffer 20%:** **17-24h**

**–ü—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–∏ (4 –∞–≥–µ–Ω—Ç–∞):**
- –§–∞–∑–∞ 1: 2-3h ‚Üí 0.5-1h (4 –ø–æ—Ç–æ–∫–∞)
- –§–∞–∑–∞ 2: 3-4h ‚Üí 0.5-1h (6 –ø–æ—Ç–æ–∫–æ–≤)
- –§–∞–∑–∞ 3: 3-4h ‚Üí 1-1.5h (3 –ø–æ—Ç–æ–∫–∞)
- **–ò—Ç–æ–≥–æ: 12-17h** (—ç–∫–æ–Ω–æ–º–∏—è ~30%)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (1 –∞–≥–µ–Ω—Ç)**
- –í—Ä–µ–º—è: 17-24h
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, –ø—Ä–æ—â–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å
- –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏: –î–æ–ª–≥–æ

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (4 –∞–≥–µ–Ω—Ç–∞)**
- –í—Ä–µ–º—è: 12-17h
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: –ë—ã—Å—Ç—Ä–µ–µ –Ω–∞ 30%
- –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏: –í–æ–∑–º–æ–∂–Ω—ã git conflicts
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –§–∞–∑ 1-3

**–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:**
1. –ê–≥–µ–Ω—Ç 1: –§–∞–∑–∞ 0 (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
2. –ê–≥–µ–Ω—Ç—ã 1-4: –§–∞–∑–∞ 1 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–∫–∞–∂–¥—ã–π –ø–æ 1 —Å–µ—Ä–≤–∏—Å—É)
3. –ê–≥–µ–Ω—Ç—ã 1-4: –§–∞–∑–∞ 2 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–∫–∞–∂–¥—ã–π –ø–æ 1-2 —Å–µ—Ä–≤–∏—Å–∞)
4. –ê–≥–µ–Ω—Ç—ã 1-3: –§–∞–∑–∞ 3 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–∫–∞–∂–¥—ã–π –ø–æ 1 —Å–µ—Ä–≤–∏—Å—É)
5. –ê–≥–µ–Ω—Ç 1: –§–∞–∑—ã 4-6 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ

**–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏: ~5-7 —á–∞—Å–æ–≤**

---

## Next Steps

### Immediate Actions

1. ‚úÖ Review —ç—Ç–æ–≥–æ –ø–ª–∞–Ω–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
2. ‚úÖ –ü–æ–ª—É—á–∏—Ç—å approval –¥–ª—è –Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π execution plan (`2.1_facade_refactoring_sequential.md`)
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `README.md` —Å effort –æ—Ü–µ–Ω–∫–∞–º–∏

### Execution

1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É `claude/facade-refactoring-{session_id}`
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –§–∞–∑—É 0 (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
3. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –§–∞–∑—ã 1-3 (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–≥–µ–Ω—Ç–æ–≤)
4. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –§–∞–∑—ã 4-6
5. –°–æ–∑–¥–∞—Ç—å PR —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-21
**–ê–≤—Ç–æ—Ä:** Claude (Phase 3 Planning Agent)
**–í–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞:** 1.0
**–°—Ç–∞—Ç—É—Å:** ‚è∏Ô∏è Waiting for Review
