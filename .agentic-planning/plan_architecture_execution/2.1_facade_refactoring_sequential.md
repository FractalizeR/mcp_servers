# –≠—Ç–∞–ø 2.1: YandexTrackerFacade - Execution (SEQUENTIAL/PARALLEL)

**–í—Ä–µ–º—è:** 17-24 —á–∞—Å–∞ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ) / 12-17 —á–∞—Å–æ–≤ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** 1-4 –∞–≥–µ–Ω—Ç–∞
**–¢–∏–ø:** SEQUENTIAL –¥–ª—è –§–∞–∑ 0, 4-6; PARALLEL –¥–ª—è –§–∞–∑ 1-3
**–í–µ—Ç–∫–∞:** `claude/facade-refactoring-{session_id}`

---

## üéØ –¶–µ–ª—å

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ YandexTrackerFacade —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É –≤ `FACADE_REFACTORING_PLAN.md`.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Facade —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 14 –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–∞–∂–¥—ã–π <200 —Å—Ç—Ä–æ–∫.

---

## üìã Prerequisites

- ‚úÖ `FACADE_REFACTORING_PLAN.md` —Å–æ–∑–¥–∞–Ω –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω
- ‚úÖ –ü–ª–∞–Ω –ø—Ä–æ—à–µ–ª review
- ‚úÖ –¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞: `claude/facade-refactoring-plan-{session_id}`
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–∞ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–µ

---

## üöÄ Execution Plan

### –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (SEQUENTIAL, 1-1.5h) ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê

**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** –ê–≥–µ–Ω—Ç 1 (–±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–∑—ã)

#### –®–∞–≥ 0.1-0.5: –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

- [x] ~~–°–æ–∑–¥–∞—Ç—å `base-facade-service.ts`~~ (–ù–ï –ù–£–ñ–ï–ù - –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º—ã–µ –∏–Ω—ä–µ–∫—Ü–∏–∏)
- [x] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `services/` (5 –º–∏–Ω)
- [x] –°–æ–∑–¥–∞—Ç—å `services/index.ts` (5 –º–∏–Ω)
- [x] –û–±–Ω–æ–≤–∏—Ç—å `facade/index.ts` (10 –º–∏–Ω)
- [x] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ TypeScript
- [x] –°–æ–∑–¥–∞—Ç—å facade-services.ts –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ DI
- [x] Validation & Commit (10 –º–∏–Ω)

**Commit:** `refactor(facade): –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è service-based –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã` ‚úÖ

**DoD:**
- [x] services/ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [x] UserService —Å–æ–∑–¥–∞–Ω (–ø–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä)
- [x] DI —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (1902 passed)

---

### –§–∞–∑–∞ 1: –ü—Ä–æ—Å—Ç—ã–µ —Å–µ—Ä–≤–∏—Å—ã (PARALLEL, 2-3h ‚Üí 0.5-1h) - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê (4/4)

**–ú–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å:** ‚úÖ –î–∞ (4 –∞–≥–µ–Ω—Ç–∞)

| –®–∞–≥ | –°–µ—Ä–≤–∏—Å | –ú–µ—Ç–æ–¥–æ–≤ | Effort | –ê–≥–µ–Ω—Ç | Commit | –°—Ç–∞—Ç—É—Å |
|-----|--------|---------|--------|-------|--------|--------|
| 1.1 | UserService | 1 | 20 –º–∏–Ω | 1 | `extract UserService` | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 1.2 | IssueLinkService | 3 | 30 –º–∏–Ω | 2 | `extract IssueLinkService` | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 1.3 | ComponentService | 4 | 30 –º–∏–Ω | 3 | `extract ComponentService` | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 1.4 | FieldService | 5 | 40 –º–∏–Ω | 4 | `extract FieldService` | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |

**DoD:**
- [x] 4 —Å–µ—Ä–≤–∏—Å–∞ —Å–æ–∑–¥–∞–Ω—ã (4/4 - –≤—Å–µ –∑–∞–≤–µ—Ä—à–µ–Ω—ã)
- [x] 13/61 –º–µ—Ç–æ–¥–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ (UserService:1, IssueLinkService:3, ComponentService:4, FieldService:5)
- [ ] Facade –∏–Ω–∂–µ–∫—Ç–∏—Ç 4 —Å–µ—Ä–≤–∏—Å–∞ (–±—É–¥–µ—Ç –≤ –§–∞–∑–µ 5)
- [x] 4 –∫–æ–º–º–∏—Ç–∞ —Å–¥–µ–ª–∞–Ω–æ (4/4)

---

### –§–∞–∑–∞ 2: –°—Ä–µ–¥–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (PARALLEL, 3-4h ‚Üí 0.5-1h)

**–ú–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å:** ‚úÖ –î–∞ (6 –∞–≥–µ–Ω—Ç–æ–≤)

| –®–∞–≥ | –°–µ—Ä–≤–∏—Å | –ú–µ—Ç–æ–¥–æ–≤ | Effort | –ê–≥–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----|--------|---------|--------|-------|--------|
| 2.1 | CommentService | 4 | 30 –º–∏–Ω | 1 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 2.2 | ChecklistService | 4 | 30 –º–∏–Ω | 2 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 2.3 | WorklogService | 4 | 30 –º–∏–Ω | 3 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 2.4 | SprintService | 4 | 30 –º–∏–Ω | 4 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 2.5 | ProjectService | 5 | 40 –º–∏–Ω | 5 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 2.6 | BoardService | 5 | 40 –º–∏–Ω | 6 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |

**DoD:**
- [x] 6 —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–æ–∑–¥–∞–Ω—ã (6/6 - –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –§–∞–∑—ã 2 –∑–∞–≤–µ—Ä—à–µ–Ω—ã)
- [x] 39/61 –º–µ—Ç–æ–¥–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ (39/61 - –ø—Ä–æ–≥—Ä–µ—Å—Å: –§–∞–∑–∞ 1: 13, –§–∞–∑–∞ 2: 26)
- [x] 6 –∫–æ–º–º–∏—Ç–æ–≤ —Å–¥–µ–ª–∞–Ω–æ (6/6)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê

---

### –§–∞–∑–∞ 3: –°–ª–æ–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (PARALLEL, 3-4h ‚Üí 1-1.5h) - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê

**–ú–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å:** ‚úÖ –î–∞ (3 –∞–≥–µ–Ω—Ç–∞)

| –®–∞–≥ | –°–µ—Ä–≤–∏—Å | –ú–µ—Ç–æ–¥–æ–≤ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ | Effort | –ê–≥–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----|--------|---------|-------------|--------|-------|--------|
| 3.1 | QueueService | 6 | - | 50 –º–∏–Ω | 1 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 3.2 | IssueAttachmentService | 5 | download/thumbnail –ª–æ–≥–∏–∫–∞ | 1h | 2 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |
| 3.3 | BulkChangeService | 4 | —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 1h | 3 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω |

**DoD:**
- [x] 3 —Å–µ—Ä–≤–∏—Å–∞ —Å–æ–∑–¥–∞–Ω—ã (3/3 - –≤—Å–µ –∑–∞–≤–µ—Ä—à–µ–Ω—ã)
- [x] 54/61 –º–µ—Ç–æ–¥–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ (QueueService:6, IssueAttachmentService:5, BulkChangeService:4)
- [x] –õ–æ–≥–∏–∫–∞ downloadAttachment/getThumbnail —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- [x] 3 –∫–æ–º–º–∏—Ç–∞ —Å–¥–µ–ª–∞–Ω–æ (3/3)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê

---

### –§–∞–∑–∞ 4: IssueService (SEQUENTIAL, 2-3h)

**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** –ê–≥–µ–Ω—Ç 1

| –®–∞–≥ | –°–µ—Ä–≤–∏—Å | –ú–µ—Ç–æ–¥–æ–≤ | Effort |
|-----|--------|---------|--------|
| 4.1 | IssueService | 7 | 1.5h |

**–ú–µ—Ç–æ–¥—ã:**
- getIssues, findIssues, createIssue, updateIssue, getIssueChangelog, getIssueTransitions, transitionIssue

**DoD:**
- [ ] IssueService —Å–æ–∑–¥–∞–Ω
- [ ] 61/61 –º–µ—Ç–æ–¥–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ
- [ ] 1 –∫–æ–º–º–∏—Ç —Å–¥–µ–ª–∞–Ω

---

### –§–∞–∑–∞ 5: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è Facade (SEQUENTIAL, 1-2h)

**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** –ê–≥–µ–Ω—Ç 1

| –®–∞–≥ | –ó–∞–¥–∞—á–∞ | Effort |
|-----|--------|--------|
| 5.1 | –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (inject 14 —Å–µ—Ä–≤–∏—Å–æ–≤) | 30 –º–∏–Ω |
| 5.2 | –£–¥–∞–ª–∏—Ç—å –º–µ—Ç–æ–¥ getOperation | 20 –º–∏–Ω |
| 5.3 | –û–±–Ω–æ–≤–∏—Ç—å DI —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é | 40 –º–∏–Ω |

**DoD:**
- [ ] Facade ~80-100 —Å—Ç—Ä–æ–∫ ‚úÖ
- [ ] –ú–µ—Ç–æ–¥ getOperation —É–¥–∞–ª–µ–Ω
- [ ] DI —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] 1 –∫–æ–º–º–∏—Ç —Å–¥–µ–ª–∞–Ω

---

### –§–∞–∑–∞ 6: –¢–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (SEQUENTIAL, 2-3h)

**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** –ê–≥–µ–Ω—Ç 1

| –®–∞–≥ | –ó–∞–¥–∞—á–∞ | Effort |
|-----|--------|--------|
| 6.1 | –û–±–Ω–æ–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã | 1.5h |
| 6.2 | –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é | 1h |
| 6.3 | –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è | 30 –º–∏–Ω |

**DoD:**
- [ ] –¢–µ—Å—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã (mock —Å–µ—Ä–≤–∏—Å–æ–≤)
- [ ] facade/README.md –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
- [ ] 2 –∫–æ–º–º–∏—Ç–∞ —Å–¥–µ–ª–∞–Ω–æ

---

## ‚úÖ Definition of Done (–í–µ—Å—å —ç—Ç–∞–ø)

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

- [ ] Facade <150 —Å—Ç—Ä–æ–∫
- [ ] 14 —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–æ–∑–¥–∞–Ω—ã (<200 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π)
- [ ] –í—Å–µ 61 –º–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã
- [ ] –í—Å–µ JSDoc —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [ ] –ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- [ ] All tests pass: `npm run test`
- [ ] All smoke tests pass: `npm run test:smoke`
- [ ] No linting errors: `npm run lint`
- [ ] No type errors: `npm run typecheck`
- [ ] No code duplication >5%: `npm run cpd`
- [ ] Coverage >90%

### Git

- [ ] ~20 –∫–æ–º–º–∏—Ç–æ–≤ —Å–¥–µ–ª–∞–Ω–æ
- [ ] –í–µ—Ç–∫–∞ –∑–∞–ø—É—à–µ–Ω–∞ –≤ remote

---

## üìä Metrics

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ |
|---------|-----|-------|
| Facade LOC | 1080 | ~80-100 |
| –°–µ—Ä–≤–∏—Å–æ–≤ | 0 | 14 |
| Max LOC/—Å–µ—Ä–≤–∏—Å | - | <200 |
| –ú–µ—Ç–æ–¥–æ–≤ | 61 | 61 |

---

## üöÄ –ü—Ä–æ–º–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (1 –∞–≥–µ–Ω—Ç):**
```
–í—ã–ø–æ–ª–Ω–∏ –≠—Ç–∞–ø 2.1: .agentic-planning/plan_architecture_execution/2.1_facade_refactoring_sequential.md

–í—ã–ø–æ–ª–Ω—è–π –§–∞–∑—ã 0 ‚Üí 1 ‚Üí 2 ‚Üí 3 ‚Üí 4 ‚Üí 5 ‚Üí 6 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –¥–µ–ª–∞–π –∫–æ–º–º–∏—Ç –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é.

–í–ê–ñ–ù–û: –ü–æ—Å–ª–µ –§–∞–∑—ã 6 —Å–æ–∑–¥–∞—Ç—å PR –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –¥–ª—è review.
```

**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (4 –∞–≥–µ–Ω—Ç–∞):**
```
–ê–ì–ï–ù–¢ 1: –§–∞–∑–∞ 0, –∑–∞—Ç–µ–º –§–∞–∑—ã 4-6
–ê–ì–ï–ù–¢ 2-4: –ñ–¥–∏—Ç–µ –§–∞–∑—É 0, –∑–∞—Ç–µ–º –§–∞–∑—ã 1-3 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

–ü–ª–∞–Ω: 2.1_facade_refactoring_sequential.md
```

---

## üîó –°—Å—ã–ª–∫–∏

- **–î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω:** [FACADE_REFACTORING_PLAN.md](./FACADE_REFACTORING_PLAN.md)
- **–¢–µ–∫—É—â–∏–π Facade:** `packages/servers/yandex-tracker/src/tracker_api/facade/yandex-tracker.facade.ts`

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-21
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-11-22
**–°—Ç–∞—Ç—É—Å:** üèóÔ∏è –í —Ä–∞–±–æ—Ç–µ (–§–∞–∑—ã 0-3 ‚úÖ, –§–∞–∑–∞ 4 —Å–ª–µ–¥—É—é—â–∞—è)
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 54/61 –º–µ—Ç–æ–¥–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ, 13/14 —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–æ–∑–¥–∞–Ω–æ

**–ü–†–ò–ú–ï–ß–ê–ù–ò–ï:** –ü–æ–ª–Ω—ã–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Å –∫–æ–¥–æ–º –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ FACADE_REFACTORING_PLAN.md
