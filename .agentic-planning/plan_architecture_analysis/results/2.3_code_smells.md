# Code Smells Detection Results

**–î–∞—Ç–∞:** 2025-11-21

---

## Overall Code Smells Summary

```
God Objects:              3   ‚ö†Ô∏è (1 critical, 2 moderate)
God Functions:            3   ‚ö†Ô∏è (1 critical, 2 moderate)
Long Parameter Lists:     0   ‚úÖ EXCELLENT
Magic Numbers:            ~5  ‚úÖ GOOD (mostly in constants)
Magic Strings:            ~10 ‚úÖ GOOD (acceptable)
Nested Ternaries:         0   ‚úÖ EXCELLENT
Callback Hell:            0   ‚úÖ EXCELLENT
Dead Code:                N/A (knip config issues)
Unused ESLint directives: 3   üü¢ MINOR
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **GOOD** - –ú–∞–ª–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö code smells

**–û—Ü–µ–Ω–∫–∞:** 4/5 - —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ god objects/functions

---

## 1. God Objects Analysis

### üî¥ CRITICAL: tool-registry.ts

**–§–∞–π–ª:** `packages/framework/core/src/tool-registry.ts`
**–†–∞–∑–º–µ—Ä:** 549 —Å—Ç—Ä–æ–∫ (–ª–∏–º–∏—Ç: 400)
**–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ:** 37%

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ
- `getDefinitionsByCategories` - 116 —Å—Ç—Ä–æ–∫, complexity 17, cognitive 28
- `getDefinitionsByMode` - 78 —Å—Ç—Ä–æ–∫
- `execute` - 74 —Å—Ç—Ä–æ–∫–∏

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞ (Too Many!):**
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è tools
2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–∂–∏–º–∞–º
4. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
5. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ tools
6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
7. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**Impact:** üî¥ CRITICAL - –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É
**Effort:** üü° MEDIUM-HIGH (6-8 —á–∞—Å–æ–≤)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Å –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é:
```
ToolRegistry (core)
  ‚îú‚îÄ‚îÄ ToolRegistrar         - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
  ‚îú‚îÄ‚îÄ DefinitionQuerying    - getDefinitionsByCategories, getDefinitionsByMode
  ‚îú‚îÄ‚îÄ DefinitionFiltering   - –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  ‚îî‚îÄ‚îÄ ToolExecutor          - execute –º–µ—Ç–æ–¥
```

---

### üü° MODERATE: Logger class

**–§–∞–π–ª:** `packages/framework/infrastructure/src/logging/logger.ts`
**–ú–µ—Ç–æ–¥:** `createPinoLogger` - 137 —Å—Ç—Ä–æ–∫
**Complexity:** 18 (cyclomatic)

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –û–≥—Ä–æ–º–Ω—ã–π –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –ª–æ–≥–≥–µ—Ä–∞
- –°–º–µ—à–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–∞ (Too Many!):**
1. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –°–æ–∑–¥–∞–Ω–∏–µ console —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
3. –°–æ–∑–¥–∞–Ω–∏–µ file —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
4. –°–æ–∑–¥–∞–Ω–∏–µ stream —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ rotation
6. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞

**Impact:** üü¢ LOW-MEDIUM - —É—Ç–∏–ª–∏—Ç–∞, –Ω–æ complexity –≤—ã—Å–æ–∫–∞—è
**Effort:** üü¢ LOW (2-3 —á–∞—Å–∞)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–ò–∑–≤–ª–µ—á—å –º–µ—Ç–æ–¥—ã:
```typescript
private createConsoleTransport(config: LoggerConfig): Transport
private createFileTransport(config: LoggerConfig): Transport
private createStreamTransport(config: LoggerConfig): Transport
private createBaseOptions(config: LoggerConfig): LoggerOptions
```

---

### üü° MODERATE: setupServer function

**–§–∞–π–ª:** `packages/servers/yandex-tracker/src/index.ts`
**–§—É–Ω–∫—Ü–∏—è:** `setupServer` - 214 —Å—Ç—Ä–æ–∫

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –û–≥—Ä–æ–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –°–º–µ—à–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π
- –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (Too Many!):**
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DI container
4. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è tools
5. –°–æ–∑–¥–∞–Ω–∏–µ facades
6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MCP server
7. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è handlers
8. Error handling

**Impact:** üü° MEDIUM - –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**Effort:** üü° MEDIUM (4-5 —á–∞—Å–æ–≤)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ —Ñ–∞–∑—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
```typescript
function setupServer() {
  validateEnvironment();
  const logger = setupLogging();
  const container = setupContainer(logger);
  const registry = setupRegistry(container);
  const server = createMcpServer();
  registerHandlers(server, registry);
  return server;
}
```

---

## 2. Dead Code Analysis

### Knip Analysis

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è Could not run (configuration issues)
**–û—à–∏–±–∫–∞:** `Error loading vitest.workspace.ts`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - Manual analysis:**

#### Unused ESLint Directives

**–ù–∞–π–¥–µ–Ω–æ:** 3 —Å–ª—É—á–∞—è

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ | –î–∏—Ä–µ–∫—Ç–∏–≤–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|------|--------|-----------|----------|
| infrastructure/src/http/error/api-error.class.ts:99 | `@typescript-eslint/no-unnecessary-condition` | üü¢ Remove | –£–¥–∞–ª–∏—Ç—å |
| infrastructure/src/http/error/error-mapper.ts:57 | `@typescript-eslint/no-unsafe-enum-comparison` | üü¢ Remove | –£–¥–∞–ª–∏—Ç—å |
| yandex-tracker/src/composition-root/container.ts:225 | `@typescript-eslint/no-unsafe-argument` | üü¢ Remove | –£–¥–∞–ª–∏—Ç—å |

**Impact:** üü¢ MINIMAL - –ø—Ä–æ—Å—Ç–æ cleanup
**Effort:** üü¢ TRIVIAL (5 –º–∏–Ω—É—Ç)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ eslint-disable –¥–∏—Ä–µ–∫—Ç–∏–≤—ã

---

#### Export Analysis (Manual)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API:**
- Framework packages —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –ø—É–±–ª–∏—á–Ω–æ–µ API - ‚úÖ OK
- Yandex-tracker exports - –¥–ª—è MCP tools - ‚úÖ OK
- Internal exports - –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–µ—Ç –æ—á–µ–≤–∏–¥–Ω–æ–≥–æ dead code –≤ exports

---

## 3. Magic Numbers Analysis

### Constants Usage

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –≤–∞–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
```typescript
// ‚úÖ Good - named constants
export const DEFAULT_TOOL_SEARCH_LIMIT = 10 as const;
export const DEFAULT_REQUEST_TIMEOUT = 30000 as const;
export const DEFAULT_LOG_MAX_FILES = 20 as const;
```

**–ù–∞–π–¥–µ–Ω–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö magic numbers:** ~5-10

| –ö–æ–Ω—Ç–µ–∫—Å—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ | –û—Ü–µ–Ω–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|----------|----------|--------|----------|
| parseInt(..., 10) | 10 | ‚úÖ OK | Radix parameter |
| timeout checks | 1024 * 1024 | ‚úÖ OK | Bytes calculation (1MB) |
| max files validation | 1...20 | ‚úÖ OK | –í –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö |
| HTTP status codes | 408, 409, 429, etc. | ‚úÖ OK | –í enum HttpStatusCode |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **EXCELLENT** - Magic numbers –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚ö™ No action needed

---

## 4. Magic Strings Analysis

### String Literals

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å—Ç—Ä–æ–∫ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

**–ü—Ä–∏–º–µ—Ä—ã:**
```typescript
// ‚úÖ Good - constants
export const MCP_TOOL_PREFIX = 'mcp__tool__' as const;
export const SEARCH_TOOL_NAME = 'search_tools' as const;
```

**–ù–∞–π–¥–µ–Ω–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö magic strings:** ~10-15

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã:**
1. Error messages - ‚úÖ OK (–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ, –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è)
2. URL paths - ‚úÖ OK (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ endpoint)
3. Field names - ‚úÖ OK (–∏–∑ API)
4. Enum values - ‚úÖ OK (–∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **GOOD** - Minimal magic strings

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚ö™ No action needed

---

## 5. Long Parameter Lists Analysis

**Max parameters:** 4 (–∏–∑ ESLint config)
**Violations:** 0 ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **EXCELLENT** - –ù–µ—Ç —Ñ—É–Ω–∫—Ü–∏–π —Å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è parameter objects –≥–¥–µ –Ω—É–∂–Ω–æ
- Dependency Injection —á–µ—Ä–µ–∑ constructor
- Options objects –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
```typescript
// ‚úÖ Good - parameter object
interface ExecuteOptions {
  input: TInput;
  context?: Record<string, unknown>;
  timeout?: number;
}

async execute(options: ExecuteOptions): Promise<ToolResult>
```

---

## 6. Nested Ternaries Analysis

**–ù–∞–π–¥–µ–Ω–æ:** 0 ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏–ª–∏ if-else

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
```typescript
// ‚úÖ Good - simple ternary
const content = input?.returnBase64 ? buffer.toString('base64') : buffer;

// ‚úÖ Good - if-else for complex logic
if (condition1) {
  return result1;
} else if (condition2) {
  return result2;
} else {
  return defaultResult;
}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **EXCELLENT** - –ù–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ç–µ—Ä–Ω–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

---

## 7. Callback Hell Analysis

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `.then().then()` chains, nested callbacks

**–ù–∞–π–¥–µ–Ω–æ:** 0 ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **EXCELLENT** - –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç async/await –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
```typescript
// ‚úÖ Good - async/await
async execute(input: Input): Promise<Result> {
  try {
    const data = await this.operation.execute(input);
    const transformed = await this.transform(data);
    return this.formatSuccess(transformed);
  } catch (error: unknown) {
    return this.formatError('Error', error as Error);
  }
}

// ‚ùå NOT FOUND: callback hell
// someFunc(arg1, (result1) => {
//   otherFunc(result1, (result2) => {
//     thirdFunc(result2, (result3) => {
//       // hell
//     });
//   });
// });
```

---

## 8. Other SonarJS Smells

### From ESLint Output

#### no-identical-expressions

**–§–∞–π–ª:** `yandex-tracker/src/tools/api/issues/update/update-issue.tool.ts:75`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ —É—Å–ª–æ–≤–∏–∏

**–°—Ç–∞—Ç—É—Å:** üü° MEDIUM - –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—à–∏–±–∫–æ–π –ª–æ–≥–∏–∫–∏
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

---

#### no-nested-template-literals

**–ù–∞–π–¥–µ–Ω–æ:** 2 —Å–ª—É—á–∞—è

| –§–∞–π–ª | –ü—Ä–æ–±–ª–µ–º–∞ |
|------|----------|
| board/get-boards.operation.ts:39 | –í–ª–æ–∂–µ–Ω–Ω—ã–µ template literals |
| project/get-projects.operation.ts:39 | –í–ª–æ–∂–µ–Ω–Ω—ã–µ template literals |

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// ‚ö†Ô∏è Warning
const endpoint = `/v2/boards${queryParams ? `?${queryParams}` : ''}`;
```

**–°—Ç–∞—Ç—É—Å:** üü¢ LOW - —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –Ω–µ —Å–∏–ª—å–Ω–æ —Å—Ç—Ä–∞–¥–∞–µ—Ç
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** üü¢ –ú–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
```typescript
const query = queryParams ? `?${queryParams}` : '';
const endpoint = `/v2/boards${query}`;
```

---

## –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è

### üî¥ CRITICAL - –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ

**1. Refactor tool-registry.ts**
- **–ü—Ä–æ–±–ª–µ–º–∞:** God Object, 549 —Å—Ç—Ä–æ–∫, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è complexity
- **Impact:** üî¥ HIGH - –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Effort:** üü° MEDIUM-HIGH (6-8 —á–∞—Å–æ–≤)
- **ROI:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

---

### üü° IMPORTANT - –°–∫–æ—Ä–æ

**2. Extract methods in createPinoLogger**
- **–ü—Ä–æ–±–ª–µ–º–∞:** 137 —Å—Ç—Ä–æ–∫, complexity 18
- **Impact:** üü° MEDIUM - complexity
- **Effort:** üü¢ LOW (2-3 —á–∞—Å–∞)
- **ROI:** ‚≠ê‚≠ê‚≠ê‚≠ê

**3. Refactor setupServer**
- **–ü—Ä–æ–±–ª–µ–º–∞:** 214 —Å—Ç—Ä–æ–∫, —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π
- **Impact:** üü° MEDIUM - —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å
- **Effort:** üü° MEDIUM (4-5 —á–∞—Å–æ–≤)
- **ROI:** ‚≠ê‚≠ê‚≠ê

**4. Fix no-identical-expressions**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞
- **Impact:** üü° MEDIUM - –º–æ–∂–µ—Ç –±—ã—Ç—å –±–∞–≥
- **Effort:** üü¢ TRIVIAL (10 –º–∏–Ω—É—Ç)
- **ROI:** ‚≠ê‚≠ê‚≠ê‚≠ê

---

### üü¢ NICE TO HAVE - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**5. Remove unused ESLint directives (3)**
- **Impact:** üü¢ MINIMAL
- **Effort:** üü¢ TRIVIAL
- **ROI:** ‚≠ê

**6. Fix nested template literals (2)**
- **Impact:** üü¢ LOW
- **Effort:** üü¢ TRIVIAL
- **ROI:** ‚≠ê‚≠ê

---

### ‚ö™ NO ACTION NEEDED

- Magic numbers ‚úÖ (–≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö)
- Magic strings ‚úÖ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã)
- Parameter lists ‚úÖ (–Ω–µ—Ç –¥–ª–∏–Ω–Ω—ã—Ö)
- Nested ternaries ‚úÖ (–Ω–µ—Ç)
- Callback hell ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è async/await)
- Dead code ‚úÖ (–Ω–µ –Ω–∞–π–¥–µ–Ω–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ)

---

## Dependency Analysis

### –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- ‚úÖ Remove unused ESLint directives - –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç 2.1/2.2
- ‚úÖ Fix no-identical-expressions - –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç 2.1/2.2
- ‚úÖ Fix nested template literals - –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç 2.1/2.2
- ‚úÖ Extract methods in createPinoLogger - –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç 2.1/2.2
- ‚úÖ Refactor setupServer - –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç 2.1/2.2

### –ó–∞–≤–∏—Å–∏–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- ‚è∏Ô∏è Refactor tool-registry.ts - –º–æ–∂–µ—Ç –±—ã—Ç—å —á–∞—Å—Ç—å—é –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–≥–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏–∑ 2.1

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ 2.1 (Framework Packages Analysis) –ø–µ—Ä–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º tool-registry.ts, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–±—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.

---

## Metrics Summary

```
God Objects: 3
  - Critical: 1 (tool-registry.ts)
  - Moderate: 2 (Logger, setupServer)

God Functions: 3 (same as above)

Other Code Smells:
  - Identical expressions: 1
  - Nested template literals: 2
  - Unused ESLint directives: 3

Positive Indicators:
  - No long parameter lists ‚úÖ
  - No magic numbers ‚úÖ
  - Minimal magic strings ‚úÖ
  - No nested ternaries ‚úÖ
  - No callback hell ‚úÖ
  - Good use of constants ‚úÖ
  - Good use of async/await ‚úÖ

Critical Issues: 1
Important Issues: 4
Minor Issues: 3

Overall Code Smells Score: 4/5 (GOOD)
```

---

## –í—ã–≤–æ–¥—ã

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **Excellent async/await usage** - –Ω–µ—Ç callback hell
2. **No long parameter lists** - —Ö–æ—Ä–æ—à–∏–π API design
3. **Constants usage** - magic numbers/strings –≤—ã–Ω–µ—Å–µ–Ω—ã
4. **No nested ternaries** - —Ö–æ—Ä–æ—à–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
5. **Minimal dead code** - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–æ–Ω—ã

1. **tool-registry.ts** - God Object, —Ç—Ä–µ–±—É–µ—Ç —Å—Ä–æ—á–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
2. **Large initialization functions** - createPinoLogger, setupServer
3. **Minor SonarJS issues** - –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–ª–∫–∏—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π

### üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–†–∞–∑–¥–µ–ª–∏—Ç—å tool-registry.ts** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π impact –Ω–∞ maintainability
2. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –±–æ–ª—å—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏** - —É–ª—É—á—à–∏—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å
3. **Fix small issues** - quick wins –¥–ª—è quality

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
1. ‚úÖ Refactor tool-registry.ts (–∂–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã 2.1)

### üü° –í–∞–∂–Ω—ã–µ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
1. ‚úÖ Extract methods in createPinoLogger
2. ‚úÖ Refactor setupServer
3. ‚úÖ Fix no-identical-expressions

### üü¢ –£–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. ‚ö™ Remove unused ESLint directives
2. ‚ö™ Fix nested template literals

### ‚ö™ –ù–µ —Ç—Ä–µ–±—É—é—Ç –¥–µ–π—Å—Ç–≤–∏–π
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ —Ö–æ—Ä–æ—à–µ–µ!

---

## Next Steps

1. ‚úÖ Code Smells Detection completed
2. ‚è≠Ô∏è Continue to Best Practices Compliance
3. ‚è≠Ô∏è Create comprehensive summary report
