# –≠—Ç–∞–ø 1.1: –°–±–æ—Ä –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ (SEQUENTIAL)

**–í—Ä–µ–º—è:** 1-2 —á–∞—Å–∞
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç
**–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–±–ª–æ–∫–∏—Ä—É–µ—Ç —ç—Ç–∞–ø 1.2)

---

## üéØ –¶–µ–ª—å

–°–æ–±—Ä–∞—Ç—å –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è baseline –∞–Ω–∞–ª–∏–∑–∞.

---

## üìã –ó–∞–¥–∞—á–∏

### ‚úÖ 1. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ monorepo

**–ß—Ç–æ —Å–æ–±—Ä–∞—Ç—å:**

- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–∫–µ—Ç–æ–≤ –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä—ã (—Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞)
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (src, tests, config)
- [ ] –ì–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- [ ] –†–∞–∑–º–µ—Ä—ã –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞ (LoC)

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤
find packages -type f -name "*.ts" | grep -E "packages/[^/]+/[^/]+/src" | wc -l

# LoC –ø–æ –ø–∞–∫–µ—Ç–∞–º
cloc packages/framework/infrastructure/src --quiet
cloc packages/framework/core/src --quiet
cloc packages/framework/search/src --quiet
cloc packages/servers/yandex-tracker/src --quiet

# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º —Ñ–∞–π–ª–æ–≤
find packages -name "*.ts" | grep -v node_modules | grep -v dist | \
  awk -F/ '{print $(NF-1)}' | sort | uniq -c
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤:** `results/1.1_structure_metrics.md`

---

### ‚úÖ 2. Code Complexity –º–µ—Ç—Ä–∏–∫–∏

**–ß—Ç–æ —Å–æ–±—Ä–∞—Ç—å:**

- [ ] ESLint violations (–ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º: error, warn)
- [ ] Complexity violations (max-lines, complexity, cognitive-complexity)
- [ ] TypeScript strict mode violations

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
# –ü–æ–ª–Ω—ã–π lint —Å –ø–æ–¥—Å—á–µ—Ç–æ–º –ø—Ä–æ–±–ª–µ–º
npm run lint 2>&1 | tee lint-output.txt

# –ü–æ–¥—Å—á–µ—Ç –ø–æ severity
grep "error" lint-output.txt | wc -l
grep "warning" lint-output.txt | wc -l

# TypeScript errors
npm run typecheck 2>&1 | tee typecheck-output.txt
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤:** `results/1.1_complexity_metrics.md`

---

### ‚úÖ 3. Code Duplication –º–µ—Ç—Ä–∏–∫–∏

**–ß—Ç–æ —Å–æ–±—Ä–∞—Ç—å:**

- [ ] CPD –ø—Ä–æ—Ü–µ–Ω—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- [ ] –¢–æ–ø-5 —Ñ–∞–π–ª–æ–≤ —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å CPD —Å –æ—Ç—á–µ—Ç–æ–º
npm run cpd:report

# –ò–∑–≤–ª–µ—á—å –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ –æ—Ç—á–µ—Ç–∞
# (jscpd —Å–æ–∑–¥–∞–µ—Ç HTML/JSON –æ—Ç—á–µ—Ç –≤ jscpd-report/)
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤:** `results/1.1_duplication_metrics.md`

---

### ‚úÖ 4. Test Coverage –º–µ—Ç—Ä–∏–∫–∏

**–ß—Ç–æ —Å–æ–±—Ä–∞—Ç—å:**

- [ ] Coverage –ø–æ –ø–∞–∫–µ—Ç–∞–º (lines, functions, branches, statements)
- [ ] Uncovered files/functions
- [ ] –¢–µ—Å—Ç–æ–≤ –Ω–∞ —Ñ–∞–π–ª –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ (ratio)

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
# Coverage –ø–æ –≤—Å–µ–º –ø–∞–∫–µ—Ç–∞–º
npm run test:coverage

# –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω–æ
cd packages/framework/infrastructure && npm run test:coverage
cd packages/framework/core && npm run test:coverage
cd packages/framework/search && npm run test:coverage
cd packages/servers/yandex-tracker && npm run test:coverage
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤:** `results/1.1_coverage_metrics.md`

---

### ‚úÖ 5. Documentation metrics

**–ß—Ç–æ —Å–æ–±—Ä–∞—Ç—å:**

- [ ] –†–∞–∑–º–µ—Ä—ã –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤)
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ TODO/FIXME –≤ –∫–æ–¥–µ
- [ ] Missing JSDoc –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö API

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
npm run validate:docs

# TODO/FIXME
grep -r "TODO\|FIXME" packages/*/src --include="*.ts" | wc -l

# –§–∞–π–ª—ã –±–µ–∑ JSDoc (–¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)
# (—ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ AST –∞–Ω–∞–ª–∏–∑, –Ω–æ –¥–ª—è baseline –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ grep)
grep -r "export function\|export class" packages/*/src --include="*.ts" -A 1 | \
  grep -v "^--$" | grep -v "/\*\*" | wc -l
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤:** `results/1.1_documentation_metrics.md`

---

### ‚úÖ 6. Dependency metrics

**–ß—Ç–æ —Å–æ–±—Ä–∞—Ç—å:**

- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (production)
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ devDependencies
- [ ] Outdated packages
- [ ] Security vulnerabilities

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
# Dependencies count
jq '.dependencies | length' package.json
jq '.devDependencies | length' package.json

# Outdated packages (—Ç–æ–ª—å–∫–æ production)
npm outdated --production --json > outdated.json || true

# Security audit
npm audit --production --json > audit.json || true
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤:** `results/1.1_dependency_metrics.md`

---

## üìä –§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `results/1.1_baseline_metrics_summary.md`:

```markdown
# Baseline Metrics Summary

**–î–∞—Ç–∞:** YYYY-MM-DD
**–í–µ—Ä—Å–∏—è:** (–∏–∑ package.json)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- –ü–∞–∫–µ—Ç–æ–≤: X
- –§–∞–π–ª–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞: X
- –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ (LoC): X
  - Infrastructure: X
  - Core: X
  - Search: X
  - Yandex-Tracker: X

## –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

- ESLint Errors: X
- ESLint Warnings: X
- TypeScript Errors: X
- CPD: X%
- Max lines violations: X —Ñ–∞–π–ª–æ–≤
- Complexity violations: X —Ñ—É–Ω–∫—Ü–∏–π

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- Coverage (–æ–±—â–∏–π): X%
  - Lines: X%
  - Functions: X%
  - Branches: X%
  - Statements: X%
- –¢–µ—Å—Ç–æ–≤: X
- Test/Source ratio: X

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –î–æ–∫—É–º–µ–Ω—Ç–æ–≤: X
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–π –ª–∏–º–∏—Ç–æ–≤: X
- TODO/FIXME: X

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Production deps: X
- Dev deps: X
- Outdated: X
- Security issues: X

## üéØ –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)

- Coverage: ‚â•90%
- CPD: ‚â§5%
- ESLint Errors: 0
- TypeScript Errors: 0
- Security issues: 0
- Max lines violations: 0
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ –∫–æ—Ä–Ω—è monorepo**
2. **–°–æ—Ö—Ä–∞–Ω—è—Ç—å raw output** –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
3. **–ù–µ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã** - —Ç–æ–ª—å–∫–æ —Å–æ–±–∏—Ä–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å quiet —Ä–µ–∂–∏–º—ã** –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
5. **–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é results/** –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º

---

## ‚úÖ Definition of Done

- [ ] –í—Å–µ 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –º–µ—Ç—Ä–∏–∫ —Å–æ–±—Ä–∞–Ω—ã
- [ ] –°–æ–∑–¥–∞–Ω summary —Ñ–∞–π–ª —Å —Ç–∞–±–ª–∏—Ü–µ–π
- [ ] Raw outputs —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è reference
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ git
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω README.md –ø–ª–∞–Ω–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º

---

## üîó –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ‚Üí **1.2 Dependency Analysis** (–∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
