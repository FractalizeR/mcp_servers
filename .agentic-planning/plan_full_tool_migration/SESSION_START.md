# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏

**–î–∞—Ç–∞:** 2025-11-21
**–ü–ª–∞–Ω:** plan_full_tool_migration
**–°—Ç–∞—Ç—É—Å:** üìã –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é

---

## üéØ –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ—Å—Å–∏–∏:

1. ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω –ø–ª–∞–Ω `prevent_schema_definition_mismatch_bugs`**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ MCP definition
   - –ü–∏–ª–æ—Ç–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è: 2/49 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (get-issues, transition-issue)
   - –í—Å–µ 2165 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
   - –ü–ª–∞–Ω —É–¥–∞–ª–µ–Ω –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

2. ‚úÖ **–°–æ–∑–¥–∞–Ω –ø–ª–∞–Ω –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ `plan_full_tool_migration`**
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö 49 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 4 —ç—Ç–∞–ø–∞ –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
   - –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏: 3-3.5 —á–∞—Å–∞ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
   - –ü–ª–∞–Ω –≥–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π:** 2/49 (4%)
- **–û—Å—Ç–∞–ª–æ—Å—å –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å:** 47/49 (96%)
- **–§–∞–π–ª–æ–≤ `.definition.ts`:** 49 (–±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –≤ —ç—Ç–∞–ø–µ 4.1)

---

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:

```
–í—ã–ø–æ–ª–Ω–∏ —ç—Ç–∞–ø 1 –∏–∑ –ø–ª–∞–Ω–∞ plan_full_tool_migration
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é –ø—Ä–æ—Å—Ç—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
- Comments (4 tools)
- Checklists (4 tools)
- Worklog (4 tools)
- Components (4 tools)
- Helpers/Ping (3 tools)

**–ò—Ç–æ–≥–æ:** 19 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, ~1 —á–∞—Å

---

## üìã –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ (–∫—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä)

### –≠—Ç–∞–ø 1: –ü—Ä–æ—Å—Ç—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Sequential, ~1 —á–∞—Å)
- 1.1 Comments (4) ‚è≥
- 1.2 Checklists (4) ‚è≥
- 1.3 Worklog (4) ‚è≥
- 1.4 Components (4) ‚è≥
- 1.5 Helpers (3) ‚è≥

### –≠—Ç–∞–ø 2: –°—Ä–µ–¥–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Parallel, ~0.5-0.7 —á–∞—Å–∞)
- 2.1 Issues (9) ‚è≥
- 2.2 Queues (6) ‚è≥
- 2.3 Projects (5) ‚è≥

**–ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å 3 –∞–≥–µ–Ω—Ç–∞–º–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ!**

### –≠—Ç–∞–ø 3: –°–ª–æ–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Sequential, ~1 —á–∞—Å)
- 3.1 Bulk-change (4) ‚è≥

### –≠—Ç–∞–ø 4: Cleanup (Sequential, ~30 –º–∏–Ω)
- 4.1 –£–¥–∞–ª–µ–Ω–∏–µ .definition.ts —Ñ–∞–π–ª–æ–≤ ‚è≥
- 4.2 –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è ‚è≥

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–∞–π–ª—ã

**–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–ª–∞–Ω–∞:**
- `README.md` - –ø–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–µ–π
- `QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
- `STAGES_SUMMARY.md` - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
- `1.1_migrate_comments_sequential.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –ø–µ—Ä–≤–æ–≥–æ —ç—Ç–∞–ø–∞

**–ü—Ä–∏–º–µ—Ä—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:**
- `packages/servers/yandex-tracker/src/tools/api/issues/get/get-issues.tool.ts`
- `packages/servers/yandex-tracker/src/tools/api/issues/transitions/execute/transition-issue.tool.ts`

---

## ‚úÖ –®–∞–±–ª–æ–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω—É–∂–Ω–æ:

1. **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `getParamsSchema()`:**
   ```typescript
   protected override getParamsSchema(): typeof MyToolSchema {
     return MyToolSchema;
   }
   ```

2. **–ü–æ–º–µ—Ç–∏—Ç—å `buildDefinition()` –∫–∞–∫ `@deprecated`:**
   ```typescript
   /**
    * @deprecated –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ getParamsSchema()
    */
   protected buildDefinition(): ToolDefinition {
     const definition = new MyToolDefinition();
     return definition.build();
   }
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ—Å—Ç—ã:**
   ```bash
   npm test -- my-tool.test.ts
   ```

4. **–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞**

---

## üéØ –¶–µ–ª—å –Ω–∞ —ç—Ç—É —Å–µ—Å—Å–∏—é

**–ú–∏–Ω–∏–º—É–º:** –ó–∞–≤–µ—Ä—à–∏—Ç—å —ç—Ç–∞–ø 1 (19 tools, ~1 —á–∞—Å)

**–û–ø—Ç–∏–º—É–º:** –ó–∞–≤–µ—Ä—à–∏—Ç—å —ç—Ç–∞–ø—ã 1 –∏ 2 (39 tools, ~1.7-2 —á–∞—Å–∞)

**–ú–∞–∫—Å–∏–º—É–º:** –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ —ç—Ç–∞–ø—ã 1-4 (47 tools, –ø–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

1. **–ù–ï —É–¥–∞–ª—è–π `.definition.ts` —Ñ–∞–π–ª—ã** –¥–æ —ç—Ç–∞–ø–∞ 4.1
   - –û–Ω–∏ —Å–ª—É–∂–∞—Ç fallback
   - –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

2. **–ö–æ–º–º–∏—Ç–∏—Ä—É–π —á–∞—Å—Ç–æ**
   - –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (4-6 tools)
   - –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

3. **–ü—Ä–æ–≤–µ—Ä—è–π —Ç–µ—Å—Ç—ã** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
   - `npm test -- <tool-name>`
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ definition –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

4. **–ü—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ (—ç—Ç–∞–ø 2)**
   - –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ
   - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è - —Å–º–µ—Ä–∂–∏—Ç—å –≤ —ç—Ç–∞–ø–µ 4

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ–≥–æ –ø–ª–∞–Ω–∞:
- ‚úÖ 49/49 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `getParamsSchema()`
- ‚úÖ 0 —Ñ–∞–π–ª–æ–≤ `.definition.ts`
- ‚úÖ 100% –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è MCP definition
- ‚úÖ –§–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω schema-definition mismatch

---

**–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å? –ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏—Ç–µ:**
```
–í—ã–ø–æ–ª–Ω–∏ —ç—Ç–∞–ø 1 –∏–∑ –ø–ª–∞–Ω–∞ plan_full_tool_migration
```

–ò–ª–∏ –¥–ª—è –≤—Å–µ–≥–æ –ø–ª–∞–Ω–∞:
```
–í—ã–ø–æ–ª–Ω–∏ –ø–ª–∞–Ω plan_full_tool_migration –ø–æ–ª–Ω–æ—Å—Ç—å—é
```

üöÄ –£–¥–∞—á–∏ –≤ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏!
