# 2.2 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CI workflows (Parallel)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
**–¢–∏–ø:** Parallel (–º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å 2.1 –ø–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –ø–æ–¥—Ö–æ–¥–∞)
**–û—Ü–µ–Ω–∫–∞:** ~30 –º–∏–Ω—É—Ç

---

## –ß–µ–∫–ª–∏—Å—Ç

### 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å ci.yml

- [ ] –£–±—Ä–∞—Ç—å `continue-on-error: true` —Å lint —à–∞–≥–∞
- [ ] –£–±—Ä–∞—Ç—å `continue-on-error: true` —Å code quality —à–∞–≥–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å knip –≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–§–∞–π–ª:** `.github/workflows/ci.yml`

```yaml
- name: üîç Lint check
  run: npm run lint
  # –ë–ï–ó continue-on-error!

- name: üìä Code quality checks
  run: npm run cpd && npm run knip
  # –ë–ï–ó continue-on-error!
```

### 2. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å publish.yml –∏ release.yml

- [ ] –£–¥–∞–ª–∏—Ç—å `.github/workflows/publish.yml`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `.github/workflows/release.yml` –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤

**–ò–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
- [ ] –û—Å—Ç–∞–≤–∏—Ç—å –æ–±–∞, –Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã:
  - `release.yml` ‚Äî –ø–æ —Ç–µ–≥—É `v*.*.*` (–ø–æ–ª–Ω—ã–π —Ä–µ–ª–∏–∑ —Å GitHub Release)
  - `publish.yml` ‚Äî —É–±—Ä–∞—Ç—å (–¥—É–±–ª–∏—Ä—É–µ—Ç)

### 3. –£–ª—É—á—à–∏—Ç—å release.yml

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤–µ—Ä—Å–∏–π –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ (–Ω–µ —Ç–æ–ª—å–∫–æ yandex-tracker)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–±–æ—Ä–∫—É MCPB –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ (–Ω–µ —Ç–æ–ª—å–∫–æ yandex-tracker)
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å `continue-on-error: true` –Ω–∞ npm publish —à–∞–≥–µ

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π:**
```yaml
- name: Verify versions match tag
  run: |
    TAG_VERSION="${GITHUB_REF#refs/tags/v}"
    echo "Tag version: $TAG_VERSION"

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º framework –ø–∞–∫–µ—Ç—ã (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)
    for pkg in packages/framework/*/package.json; do
      PKG_VERSION=$(node -p "require('./$pkg').version")
      PKG_NAME=$(node -p "require('./$pkg').name")
      if [ "$TAG_VERSION" != "$PKG_VERSION" ]; then
        echo "‚ùå $PKG_NAME version ($PKG_VERSION) != tag ($TAG_VERSION)"
        exit 1
      fi
      echo "‚úÖ $PKG_NAME: $PKG_VERSION"
    done
```

### 4. –î–æ–±–∞–≤–∏—Ç—å caching –¥–ª—è npm

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ npm —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Turborepo –∫—ç—à –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ CI

### 5. –í–∞–ª–∏–¥–∞—Ü–∏—è

- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –≤–µ—Ç–∫—É
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å CI –≤—Ä—É—á–Ω—É—é (workflow_dispatch)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —à–∞–≥–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- CI –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ lint –∏ quality checks
- –û–¥–∏–Ω workflow –¥–ª—è —Ä–µ–ª–∏–∑–æ–≤
- –í—Å–µ –ø–∞–∫–µ—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ–ª–∏–∑–µ
