# 3.1 Финальная валидация

**Тип:** Sequential (выполнять после слияния всех веток этапа 2)
**Оценка:** 15-20 минут
**Статус:** [ ] Не начато

## Предусловия

- [ ] Все ветки этапа 2 слиты в основную ветку
- [ ] Конфликты разрешены

## Полная валидация

```bash
# Из корня monorepo
npm run clean
npm install
npm run build
npm run validate
```

## Чек-лист проверок

### Lint
- [ ] 0 errors
- [ ] Warnings значительно уменьшились (было ~60)
- [ ] Нет warnings о max-lines, max-params, complexity

### TypeCheck
- [ ] 0 errors
- [ ] Все пакеты собираются

### Tests
- [ ] Все unit tests проходят
- [ ] Все smoke tests проходят

### Dependency Cruiser
- [ ] 0 violations в CLI (были циклические)
- [ ] 0 violations во всех пакетах

### CPD (Copy-Paste Detection)
- [ ] CLI < 5% (было 4.69%)
- [ ] Все пакеты < 5%

### Документация
- [ ] `npm run validate:docs` проходит
- [ ] README обновлены если изменилась структура

## Метрики до/после

| Метрика | До | После | Цель |
|---------|-----|-------|------|
| Lint warnings | ~60 | ? | < 20 |
| Циклические зависимости | 2 | 0 | 0 |
| Файлы > 500 строк | 1 | 0 | 0 |
| Функции > 100 строк | 5 | 0 | 0 |
| Конструкторы > 5 params | 3 | 0 | 0 |

## Финальный коммит (если нужен)

```
chore: post-refactoring cleanup and validation

- Verify all quality metrics improved
- Update documentation where needed
```

## Удаление плана

После успешной валидации:
```bash
rm -rf .agentic-planning/plan_tech_debt_cleanup/
git add -A
git commit -m "chore: complete tech debt cleanup plan"
```

## Чек-лист завершения

- [ ] Все проверки пройдены
- [ ] Метрики улучшились
- [ ] План удалён
- [ ] Изменения в main/master (или создан PR)
