# –≠—Ç–∞–ø 1.2: get-issue-links ‚Üí batch support

**Execution Type:** `parallel` (–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å 1.1, 1.3)

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–∞—Å—Å–∏–≤–∞ `issueIds` –≤ get-issue-links tool.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [ ] 1. –û–±–Ω–æ–≤–∏—Ç—å schema: `issueId` ‚Üí `issueIds`
- [ ] 2. –°–æ–∑–¥–∞—Ç—å batch operation –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤—è–∑–µ–π
- [ ] 3. –û–±–Ω–æ–≤–∏—Ç—å tool –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è batch operation
- [ ] 4. –û–±–Ω–æ–≤–∏—Ç—å metadata –∏ description
- [ ] 5. –û–±–Ω–æ–≤–∏—Ç—å facade –∏ service methods
- [ ] 6. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã
- [ ] 7. –í–∞–ª–∏–¥–∞—Ü–∏—è: `npm run validate`
- [ ] 8. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏

### –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ schema

**–§–∞–π–ª:** `packages/servers/yandex-tracker/src/tools/api/issues/links/get/get-issue-links.schema.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –ë–´–õ–û
issueId: IssueKeySchema

// –°–¢–ê–õ–û
issueIds: IssueKeysSchema.describe('Array of issue IDs or keys')
```

**–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞:**
```typescript
export const GetIssueLinksParamsSchema = z.object({
  issueIds: IssueKeysSchema,
  fields: FieldsSchema,
});
```

---

### –®–∞–≥ 2: Batch operation

**–§–∞–π–ª:** `packages/servers/yandex-tracker/src/tracker_api/api_operations/link/get-issue-links.operation.ts`

**–î–æ–±–∞–≤–∏—Ç—å:**
1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç ParallelExecutor –∏ ServerConfig –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
2. –ú–µ—Ç–æ–¥ `executeMany(issueIds: string[]): Promise<BatchResult<string, LinkWithUnknownFields[]>>`

**–õ–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ParallelExecutor –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç `GET /v3/issues/{issueId}/links`
- –í–µ—Ä–Ω—É—Ç—å BatchResult

**–û–±—Ä–∞–∑–µ—Ü:** `get-comments.operation.ts` (–∏–∑ —ç—Ç–∞–ø–∞ 1.1)

---

### –®–∞–≥ 3-8: –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —ç—Ç–∞–ø—É 1.1

**–°–ª–µ–¥–æ–≤–∞—Ç—å —Ç–æ–π –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:**
- –û–±–Ω–æ–≤–∏—Ç—å tool –¥–ª—è unified batch result
- –î–æ–±–∞–≤–∏—Ç—å `getIssueLinksMany()` –≤ facade –∏ service
- –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã (—É—Å–ø–µ—Ö, —á–∞—Å—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏, –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∫–æ–º–º–∏—Ç

**Unified batch result format:**
```typescript
{
  total: number,
  successful: Array<{
    issueId: string,
    links: LinkWithUnknownFields[],
    count: number
  }>,
  failed: Array<{ issueId: string, error: string }>,
  fieldsReturned: string[]
}
```

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —ç—Ç–∞–ø—É 1.1, –Ω–æ –¥–ª—è get-issue-links.

---

## üìö –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- –≠—Ç–∞–ø 1.1 (get-comments) ‚Äî –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
- `get-issues.tool.ts` ‚Äî –æ–±—Ä–∞–∑–µ—Ü batch GET operation
