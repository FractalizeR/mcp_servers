# –≠—Ç–∞–ø 1.2: get-issue-links ‚Üí batch support

**Execution Type:** `parallel` (–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å 1.1, 1.3)

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–∞—Å—Å–∏–≤–∞ `issueIds` –≤ get-issue-links tool.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [x] 1. –û–±–Ω–æ–≤–∏—Ç—å schema: `issueId` ‚Üí `issueIds`
- [x] 2. –°–æ–∑–¥–∞—Ç—å batch operation –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤—è–∑–µ–π
- [x] 3. –û–±–Ω–æ–≤–∏—Ç—å tool –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è batch operation
- [x] 4. –û–±–Ω–æ–≤–∏—Ç—å metadata –∏ description
- [x] 5. –û–±–Ω–æ–≤–∏—Ç—å facade –∏ service methods
- [x] 6. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã (operation tests)
- [x] 7. –û–±–Ω–æ–≤–∏—Ç—å integration tests
- [x] 8. –û–±–Ω–æ–≤–∏—Ç—å tool unit tests
- [x] 9. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üìù –í—ã–ø–æ–ª–Ω–µ–Ω–æ

1. **Schema –æ–±–Ω–æ–≤–ª–µ–Ω–∞**: `issueId` ‚Üí `issueIds` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `IssueKeysSchema`
2. **Batch operation —Å–æ–∑–¥–∞–Ω–∞**: `GetIssueLinksOperation` —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ParallelExecutor`
3. **Tool –æ–±–Ω–æ–≤–ª–µ–Ω**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `BatchResultProcessor` –∏ `ResultLogger`
4. **Metadata**: –¥–æ–±–∞–≤–ª–µ–Ω —Ç–µ–≥ 'batch'
5. **Facade & Service**: –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤
6. **Operation tests**: –≤—Å–µ —Ç–µ—Å—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
7. **Integration tests**: –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è batch API
8. **Tool unit tests**: –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ –æ–±—Ä–∞–∑—Ü—É get-comments.tool.test.ts (commit TBD)

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏

### –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ schema ‚úÖ

**–§–∞–π–ª:** `packages/servers/yandex-tracker/src/tools/api/issues/links/get/get-issue-links.schema.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –ë–´–õ–û
issueId: IssueKeySchema

// –°–¢–ê–õ–û
issueIds: IssueKeysSchema.describe('Array of issue IDs or keys')
```

**–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞:**
```typescript
export const GetIssueLinksParamsSchema = z.object({
  issueIds: IssueKeysSchema,
  fields: FieldsSchema,
});
```

---

### –®–∞–≥ 2: Batch operation ‚úÖ

**–§–∞–π–ª:** `packages/servers/yandex-tracker/src/tracker_api/api_operations/link/get-issue-links.operation.ts`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç ParallelExecutor –∏ ServerConfig –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
2. –ú–µ—Ç–æ–¥ `execute(issueIds: string[]): Promise<BatchIssueLinksResult[]>`

**–õ–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ParallelExecutor –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç `GET /v3/issues/{issueId}/links`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç BatchResult

---

### –®–∞–≥ 3-8: –°–ª–µ–¥–æ–≤–∞—Ç—å —Ç–æ–π –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ ‚úÖ

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- Tool –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è unified batch result
- –î–æ–±–∞–≤–ª–µ–Ω—ã `getIssueLinks(issueIds: string[])` –≤ facade –∏ service
- –ù–∞–ø–∏—Å–∞–Ω—ã operation unit-—Ç–µ—Å—Ç—ã (—É—Å–ø–µ—Ö, —á–∞—Å—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏, –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)
- Integration tests –æ–±–Ω–æ–≤–ª–µ–Ω—ã

**Unified batch result format:**
```typescript
{
  total: number,
  successful: Array<{
    issueId: string,
    links: LinkWithUnknownFields[],
    count: number
  }>,
  failed: Array<{ issueId: string, error: string }>,
  fieldsReturned: string[]
}
```

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

‚úÖ Schema –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ `issueIds`
‚úÖ Batch operation —Å–æ–∑–¥–∞–Ω–∞
‚úÖ Tool –∏—Å–ø–æ–ª—å–∑—É–µ—Ç batch operation
‚úÖ Metadata –æ–±–Ω–æ–≤–ª–µ–Ω–∞
‚úÖ Facade –∏ service methods –æ–±–Ω–æ–≤–ª–µ–Ω—ã
‚úÖ Operation unit-—Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
‚úÖ Integration tests –æ–±–Ω–æ–≤–ª–µ–Ω—ã
‚úÖ Tool unit tests –æ–±–Ω–æ–≤–ª–µ–Ω—ã
‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã

---

## üìö –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- –≠—Ç–∞–ø 1.1 (get-comments) ‚Äî –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
- `get-issues.tool.ts` ‚Äî –æ–±—Ä–∞–∑–µ—Ü batch GET operation

