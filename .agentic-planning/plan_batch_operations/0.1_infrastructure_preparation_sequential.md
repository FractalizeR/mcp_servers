# –≠—Ç–∞–ø 0.1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**Execution Type:** `sequential` (–¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —ç—Ç–∞–ø–∞–º–∏)

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è batch-–æ–±—Ä–∞–±–æ—Ç–∫–∏.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [ ] 1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é get-issues
- [ ] 2. –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –æ–±—â–∏–µ Zod schemas
- [ ] 3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è batch —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] 4. –û–±–Ω–æ–≤–∏—Ç—å BatchResultProcessor (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- [ ] 5. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- [ ] 6. –í–∞–ª–∏–¥–∞—Ü–∏—è: `npm run validate`
- [ ] 7. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏

### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ get-issues

**–§–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:**
- `packages/servers/yandex-tracker/src/tools/api/issues/get/get-issues.tool.ts`
- `packages/servers/yandex-tracker/src/tools/api/issues/get/get-issues.schema.ts`
- `packages/servers/yandex-tracker/src/tracker_api/api_operations/issue/get-issues.operation.ts`

**–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:**
1. –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `IssueKeysSchema` (–≤—Å–µ–≥–¥–∞ –º–∞—Å—Å–∏–≤)
2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `ParallelExecutor` –¥–ª—è batch –∑–∞–ø—Ä–æ—Å–æ–≤
3. –ö–∞–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è unified batch result —á–µ—Ä–µ–∑ `BatchResultProcessor`
4. –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è successful/failed —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
5. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ `ResponseFieldFilter`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –≤ –¥—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö.

---

### –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö Zod schemas

**–§–∞–π–ª:** `packages/servers/yandex-tracker/src/common/schemas/issue-key.schema.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```typescript
export const IssueKeySchema = z.string().regex(...);
export const IssueKeysSchema = z.array(IssueKeySchema).min(1);
```

**–ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å:**
- –°—Ö–µ–º—ã —É–∂–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `IssueKeysSchema` —É–∂–µ —Ç—Ä–µ–±—É–µ—Ç –º–∏–Ω–∏–º—É–º 1 —ç–ª–µ–º–µ–Ω—Ç

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ —Å—Ö–µ–º—ã –≤–æ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- –ù—É–∂–Ω—ã –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ helper schemas

---

### –®–∞–≥ 3: –¢–∏–ø—ã –¥–ª—è batch —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–§–∞–π–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
`packages/framework/infrastructure/src/types/batch-result.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```typescript
export type BatchResult<TKey, TValue> = Array<
  | { status: 'fulfilled'; key: TKey; index: number; data: TValue }
  | { status: 'rejected'; key: TKey; index: number; error: Error }
>;
```

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å (–µ—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç):**

1. **–¢–∏–ø –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:**
```typescript
// –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Ç–∏–ø–∞ add-comment, create-link —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ –∑–∞–¥–∞—á—É
export type BatchModificationInput<TParams> = Array<
  { issueId: string } & TParams
>;
```

2. **Unified —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –≤—Å–µ—Ö batch –æ–ø–µ—Ä–∞—Ü–∏–π:**
```typescript
export type UnifiedBatchResult<TData> = {
  total: number;
  successful: Array<{ issueId: string; data: TData }>;
  failed: Array<{ issueId: string; error: string }>;
};
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –í schema –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –í tool –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞

---

### –®–∞–≥ 4: BatchResultProcessor

**–§–∞–π–ª:** `packages/framework/core/src/tools/utilities/batch-result-processor.ts`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏?
2. –ù—É–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ `processModificationResults`?

**–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**

–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π `process()` –Ω–µ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç):

```typescript
/**
 * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã batch –æ–ø–µ—Ä–∞—Ü–∏–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
 * –≥–¥–µ –∫–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
 */
static processModification<TInput, TOutput>(
  results: BatchResult<string, TOutput>,
  inputs: Array<TInput & { issueId: string }>
): {
  successful: Array<{ issueId: string; data: TOutput }>;
  failed: Array<{ issueId: string; error: string }>;
}
```

**–í–ê–ñ–ù–û:**
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –î–æ–±–∞–≤–∏—Ç—å JSDoc —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- –ü–æ–∫—Ä—ã—Ç—å unit-—Ç–µ—Å—Ç–∞–º–∏

---

### –®–∞–≥ 5: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

**–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª—ã:**

1. **ARCHITECTURE.md** (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª –æ batch –æ–ø–µ—Ä–∞—Ü–∏—è—Ö):
   - –ü–∞—Ç—Ç–µ—Ä–Ω batch-–æ–±—Ä–∞–±–æ—Ç–∫–∏
   - Unified batch result format
   - ParallelExecutor usage patterns

2. **packages/servers/yandex-tracker/CLAUDE.md**:
   - –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é "Batch Operations Pattern"
   - –û–ø–∏—Å–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —Å–æ–∑–¥–∞–Ω–∏—è batch-–æ–ø–µ—Ä–∞—Ü–∏–π
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ "Batch Operations Pattern":**
- –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å batch (GET + POST/DELETE)
- Schema: –≤—Å–µ–≥–¥–∞ –º–∞—Å—Å–∏–≤ `issueIds`
- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: unified batch result
- ParallelExecutor –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è concurrency limits
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞—Å—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ (successful + failed)

---

### –®–∞–≥ 6: –í–∞–ª–∏–¥–∞—Ü–∏—è

```bash
npm run validate
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –õ–∏–Ω—Ç–∏–Ω–≥ –ø—Ä–æ—Ö–æ–¥–∏—Ç
- Type-check –ø—Ä–æ—Ö–æ–¥–∏—Ç
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –Ω–µ —Å–ª–æ–º–∞–ª–∏—Å—å
- –ù–æ–≤—ã–µ —Ç–∏–ø—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –®–∞–≥ 7: –ö–æ–º–º–∏—Ç

**–§–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç–∞:**
```
feat(infrastructure): –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É batch –æ–ø–µ—Ä–∞—Ü–∏–π

–î–µ—Ç–∞–ª–∏:
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è batch –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ (BatchModificationInput)
- –û–±–Ω–æ–≤–ª–µ–Ω BatchResultProcessor –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø–∞—Ç—Ç–µ—Ä–Ω batch-–æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ CLAUDE.md
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ParallelExecutor

Breaking Changes:
- –ù–ï–¢ (—Ç–æ–ª—å–∫–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)

ü§ñ Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>
```

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞

1. ‚úÖ –í—Å–µ –æ–±—â–∏–µ —Ç–∏–ø—ã –∏ —É—Ç–∏–ª–∏—Ç—ã –≥–æ—Ç–æ–≤—ã
2. ‚úÖ BatchResultProcessor –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
3. ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
4. ‚úÖ `npm run validate` –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
5. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã

---

## üìö –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

**–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:**
- `packages/servers/yandex-tracker/src/tools/api/issues/get/get-issues.tool.ts` (–æ–±—Ä–∞–∑–µ—Ü batch GET)
- `packages/servers/yandex-tracker/src/tools/api/bulk-change/update/bulk-update-issues.tool.ts` (–æ–±—Ä–∞–∑–µ—Ü bulk –æ–ø–µ—Ä–∞—Ü–∏–∏)
- `packages/framework/infrastructure/src/async/parallel-executor.ts` (ParallelExecutor)
- `packages/framework/core/src/tools/utilities/batch-result-processor.ts` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ARCHITECTURE.md - –æ–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- packages/servers/yandex-tracker/CLAUDE.md - –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
