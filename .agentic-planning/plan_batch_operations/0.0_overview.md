# –ü–ª–∞–Ω: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ batch-–ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ MCP –æ–ø–µ—Ä–∞—Ü–∏–∏

## üéØ –¶–µ–ª—å

–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–∞—Å—Å–∏–≤–æ–≤ `issueIds` –≤ MCP tools –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏, —á—Ç–æ–±—ã –ò–ò –∞–≥–µ–Ω—Ç—ã –º–æ–≥–ª–∏ –ø–æ–ª—É—á–∞—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á –æ–¥–Ω–∏–º MCP tool call.

## üìä Scope

### –û–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è (GET)
- **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: get-comments, get-issue-links, get-issue-changelog
- **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: get-worklogs, get-checklist
- **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: get-attachments

### –û–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ (POST/DELETE/PATCH)
- **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: add-comment, create-link, delete-link
- **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: add-worklog, delete-comment
- **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: add-checklist-item, delete-attachment, edit-comment

### –ò—Å–∫–ª—é—á–µ–Ω–∏—è
- **get-issue-transitions**: –æ—Å—Ç–∞–≤–∏—Ç—å single-only (—Ä–µ–¥–∫–æ –Ω—É–∂–µ–Ω batch)
- **update-issue, transition-issue, move-issue**: —É–∂–µ –µ—Å—Ç—å bulk-* –≤–∞—Ä–∏–∞–Ω—Ç—ã (server-side batch)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### –î–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ batch –æ–ø–µ—Ä–∞—Ü–∏–π

**GET –æ–ø–µ—Ä–∞—Ü–∏–∏ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á):**
- **Schema Pattern:** –í—Å–µ–≥–¥–∞ –º–∞—Å—Å–∏–≤ ID
  - –ü–∞—Ä–∞–º–µ—Ç—Ä: `issueIds: IssueKeysSchema` (–º–∞—Å—Å–∏–≤, –º–∏–Ω–∏–º—É–º 1)
  - Breaking change: `issueId` ‚Üí `issueIds`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** perPage, page, expand –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ö–û –í–°–ï–ú –∑–∞–¥–∞—á–∞–º –æ–¥–∏–Ω–∞–∫–æ–≤–æ
- **–ü—Ä–∏–º–µ—Ä:** –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Ç 3 –∑–∞–¥–∞—á —Å perPage=50

**POST/DELETE –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏):**
- **Input Pattern:** –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  - –§–æ—Ä–º–∞—Ç: –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ `[{ issueId, ...params }]`
  - Breaking change: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–µ–Ω—è–µ—Ç—Å—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ö–ê–ñ–î–ê–Ø –∑–∞–¥–∞—á–∞ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (text, attachmentIds –∏ —Ç.–¥.)
- **–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ 3 –∑–∞–¥–∞—á–∞–º

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ (unified –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π)

**Unified batch format** (–≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –¥–ª—è –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏):
```typescript
{
  total: number,
  successful: Array<{
    issueId: string,      // ‚Üê –í–°–ï–ì–î–ê –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
    ...specificData       // ‚Üê —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª—è
  }>,
  failed: Array<{
    issueId: string,      // ‚Üê –í–°–ï–ì–î–ê –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
    error: string         // ‚Üê –í–°–ï–ì–î–ê –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
  }>,
  fieldsReturned?: string[]  // ‚Üê —Ç–æ–ª—å–∫–æ –¥–ª—è GET –æ–ø–µ—Ä–∞—Ü–∏–π
}
```

## üìã –≠—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –≠—Ç–∞–ø 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (sequential)
–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è batch-–æ–±—Ä–∞–±–æ—Ç–∫–∏.

### –≠—Ç–∞–ø 1: –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - GET –æ–ø–µ—Ä–∞—Ü–∏–∏ (parallel)
- 1.1: get-comments ‚Üí batch
- 1.2: get-issue-links ‚Üí batch
- 1.3: get-issue-changelog ‚Üí batch

### –≠—Ç–∞–ø 2: –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - POST/DELETE –æ–ø–µ—Ä–∞—Ü–∏–∏ (parallel)
- 2.1: add-comment ‚Üí batch
- 2.2: create-link ‚Üí batch
- 2.3: delete-link ‚Üí batch

### –≠—Ç–∞–ø 3: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - GET –æ–ø–µ—Ä–∞—Ü–∏–∏ (parallel)
- 3.1: get-worklogs ‚Üí batch
- 3.2: get-checklist ‚Üí batch

### –≠—Ç–∞–ø 4: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - POST/DELETE –æ–ø–µ—Ä–∞—Ü–∏–∏ (parallel)
- 4.1: add-worklog ‚Üí batch
- 4.2: delete-comment ‚Üí batch

### –≠—Ç–∞–ø 5: –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - GET –æ–ø–µ—Ä–∞—Ü–∏–∏ (parallel)
- 5.1: get-attachments ‚Üí batch

### –≠—Ç–∞–ø 6: –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - POST/DELETE –æ–ø–µ—Ä–∞—Ü–∏–∏ (parallel)
- 6.1: add-checklist-item ‚Üí batch
- 6.2: delete-attachment ‚Üí batch
- 6.3: edit-comment ‚Üí batch

### –≠—Ç–∞–ø 7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (sequential)
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ facade, services, –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤.

### –≠—Ç–∞–ø 8: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è (sequential)
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è.

## üöÄ –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è

**–ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (—Ä–∞–∑–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã):**
- –í—Å–µ –ø–æ–¥—ç—Ç–∞–ø—ã –≤–Ω—É—Ç—Ä–∏ —ç—Ç–∞–ø–æ–≤ 1-6 (–æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã)
- –≠—Ç–∞–ø 1 –∏ –≠—Ç–∞–ø 2 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (GET –∏ POST –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã)
- –≠—Ç–∞–ø 3 –∏ –≠—Ç–∞–ø 4 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–î–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:**
- –≠—Ç–∞–ø 0 ‚Üí –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏
- –≠—Ç–∞–ø 7 ‚Üí –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–æ–≤ 1-6
- –≠—Ç–∞–ø 8 ‚Üí –ø–æ—Å–ª–µ —ç—Ç–∞–ø–∞ 7

## ‚ö†Ô∏è Breaking Changes

**–ü—Ä–∏–Ω—è—Ç–æ:** –ø—Ä–æ–µ–∫—Ç –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –Ω–µ –≤ production.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: `issueId` ‚Üí `issueIds`
2. –í—Å–µ–≥–¥–∞ –º–∞—Å—Å–∏–≤ (–º–∏–Ω–∏–º—É–º 1 —ç–ª–µ–º–µ–Ω—Ç)
3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–∞ (unified batch format)

## üìù –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

1. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è: `npm run validate`
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
3. ‚úÖ –û—Ç–º–µ—Ç–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ñ–∞–π–ª–µ –ø–ª–∞–Ω–∞
4. ‚úÖ –ö–æ–º–º–∏—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —ç—Ç–∞–ø–∞
5. ‚úÖ –ü—É—à –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

## üéì –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **DRY**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BatchResultProcessor, ParallelExecutor
2. **SRP**: –û–¥–∏–Ω tool = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
3. **Type Safety**: Strict Zod schemas, no `any`
4. **Consistency**: –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç batch result –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. **Testability**: –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
