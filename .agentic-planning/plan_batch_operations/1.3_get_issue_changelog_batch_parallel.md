# –≠—Ç–∞–ø 1.3: get-issue-changelog ‚Üí batch support

**Execution Type:** `parallel` (–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å 1.1, 1.2)

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–∞—Å—Å–∏–≤–∞ `issueIds` –≤ get-issue-changelog tool.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [ ] 1. –û–±–Ω–æ–≤–∏—Ç—å schema: `issueKey` ‚Üí `issueKeys`
- [ ] 2. –°–æ–∑–¥–∞—Ç—å batch operation –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è changelog
- [ ] 3. –û–±–Ω–æ–≤–∏—Ç—å tool –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è batch operation
- [ ] 4. –û–±–Ω–æ–≤–∏—Ç—å metadata –∏ description
- [ ] 5. –û–±–Ω–æ–≤–∏—Ç—å facade –∏ service methods
- [ ] 6. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã
- [ ] 7. –í–∞–ª–∏–¥–∞—Ü–∏—è: `npm run validate`
- [ ] 8. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏

### –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ schema

**–§–∞–π–ª:** `packages/servers/yandex-tracker/src/tools/api/issues/changelog/get-issue-changelog.schema.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –ë–´–õ–û
issueKey: IssueKeySchema

// –°–¢–ê–õ–û
issueKeys: IssueKeysSchema.describe('Array of issue keys')
```

**–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞:**
```typescript
export const GetIssueChangelogParamsSchema = z.object({
  issueKeys: IssueKeysSchema,
  fields: FieldsSchema,
});
```

---

### –®–∞–≥ 2: Batch operation

**–§–∞–π–ª:** `packages/servers/yandex-tracker/src/tracker_api/api_operations/issue/changelog/get-issue-changelog.operation.ts`

**–î–æ–±–∞–≤–∏—Ç—å:**
1. ParallelExecutor dependency
2. –ú–µ—Ç–æ–¥ `executeMany(issueKeys: string[]): Promise<BatchResult<string, ChangelogEntryWithUnknownFields[]>>`

**Endpoint:** `GET /v3/issues/{issueKey}/changelog`

---

### –®–∞–≥ 3-8: –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —ç—Ç–∞–ø—É 1.1

**Unified batch result:**
```typescript
{
  total: number,
  successful: Array<{
    issueKey: string,
    changelog: ChangelogEntryWithUnknownFields[],
    totalEntries: number
  }>,
  failed: Array<{ issueKey: string, error: string }>,
  fieldsReturned: string[]
}
```

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —ç—Ç–∞–ø–∞–º 1.1 –∏ 1.2.
