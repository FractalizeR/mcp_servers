# Phase 2.3: –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É, —Å–º—ë—Ä–¥–∂–∏—Ç—å –≤ main –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å

**–í–µ—Ç–∫–∞:** `main` (–º–µ—Ä–¥–∂ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –≤–µ—Ç–∫–∏)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 2.1, 2.2 –∑–∞–≤–µ—Ä—à–µ–Ω—ã

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

### 1. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –≤–µ—Ç–∫–∏

- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã:
  ```bash
  git status
  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: nothing to commit, working tree clean
  ```

- [ ] –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–±–µ–π–∑ –Ω–∞ main:
  ```bash
  git fetch origin main
  git rebase origin/main
  # –†–∞–∑—Ä–µ—à–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –µ—Å–ª–∏ –µ—Å—Ç—å
  ```

### 2. –ü–æ–ª–Ω–∞—è —á–∏—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞

- [ ] –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:
  ```bash
  npm run clean
  rm -rf node_modules packages/*/node_modules
  rm -f package-lock.json
  ```

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —Å–æ–±—Ä–∞—Ç—å:
  ```bash
  npm install
  npm run build
  ```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ—Ç warnings/errors –≤ –ª–æ–≥–∞—Ö

### 3. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

- [ ] –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è:
  ```bash
  npm run validate
  ```

- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞:
  ```bash
  npm run quality
  ```

- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
  ```bash
  npm run validate:docs
  ```

- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
  ```bash
  npm run depcruise
  ```

- [ ] Coverage –æ—Ç—á–µ—Ç:
  ```bash
  npm run test:coverage
  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –ø–∞–∫–µ—Ç—ã >= –ø–æ—Ä–æ–≥–æ–≤
  ```

### 4. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**Framework packages:**

- [ ] Infrastructure:
  ```bash
  cd packages/framework/infrastructure
  npm run build && npm run test
  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å exports —Ä–∞–±–æ—Ç–∞—é—Ç:
  node -e "const { HttpClient } = require('./dist/index.js'); console.log(HttpClient)"
  ```

- [ ] Core:
  ```bash
  cd packages/framework/core
  npm run build && npm run test
  node -e "const { BaseTool } = require('./dist/index.js'); console.log(BaseTool)"
  ```

- [ ] Search:
  ```bash
  cd packages/framework/search
  npm run build && npm run test
  node -e "const { ToolSearchEngine } = require('./dist/index.js'); console.log(ToolSearchEngine)"
  ```

**Server package:**

- [ ] Yandex Tracker:
  ```bash
  cd packages/servers/yandex-tracker
  npm run build && npm run test

  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å MCP —Å–µ—Ä–≤–µ—Ä:
  node dist/yandex-tracker.bundle.js &
  PID=$!
  sleep 2
  kill $PID

  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CLI:
  node dist/cli/mcp-connect.js --help
  ```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (dry-run)

- [ ] Framework infrastructure:
  ```bash
  cd packages/framework/infrastructure
  npm publish --dry-run
  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ –±—É–¥–µ—Ç –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤
  ```

- [ ] Framework core:
  ```bash
  cd packages/framework/core
  npm publish --dry-run
  ```

- [ ] Framework search:
  ```bash
  cd packages/framework/search
  npm publish --dry-run
  ```

- [ ] Server yandex-tracker:
  ```bash
  cd packages/servers/yandex-tracker
  npm publish --dry-run
  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ bundle.js –≤–∫–ª—é—á–µ–Ω
  ```

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CHANGELOG

- [ ] –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å `CHANGELOG.md` –≤ –∫–æ—Ä–Ω–µ:

```markdown
# Changelog

## [2.1.0] - 2025-XX-XX

### Major Changes

#### üèóÔ∏è Multi-Server Architecture

–†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è monorepo –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö MCP —Å–µ—Ä–≤–µ—Ä–æ–≤:

**Breaking Changes:**
- Package –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω: `mcp-server-yandex-tracker` ‚Üí `@mcp-server/yandex-tracker`
- Bundle –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω: `bundle.js` ‚Üí `yandex-tracker.bundle.js`
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏–∑–º–µ–Ω–µ–Ω–∞:
  - `packages/infrastructure` ‚Üí `packages/framework/infrastructure`
  - `packages/core` ‚Üí `packages/framework/core`
  - `packages/search` ‚Üí `packages/framework/search`
  - `packages/yandex-tracker` ‚Üí `packages/servers/yandex-tracker`

**Improvements:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ –æ–¥–Ω–æ–º monorepo
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ Framework vs Servers
- ‚úÖ –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –±–∞–Ω–¥–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤

**Migration Guide:**
–°–º. [MIGRATION.md](./MIGRATION.md) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏

### Documentation

- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥ –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
```

- [ ] –°–æ–∑–¥–∞—Ç—å `MIGRATION.md` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```markdown
# Migration Guide v2.0 ‚Üí v2.1

## –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π MCP —Å–µ—Ä–≤–µ—Ä–∞

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ yandex-tracker MCP server, –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

**–ë—ã–ª–æ:**
```json
{
  "mcpServers": {
    "yandex-tracker": {
      "command": "npx",
      "args": ["mcp-server-yandex-tracker"]
    }
  }
}
```

**–°—Ç–∞–ª–æ:**
```json
{
  "mcpServers": {
    "yandex-tracker": {
      "command": "npx",
      "args": ["@mcp-server/yandex-tracker"]
    }
  }
}
```

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ï—Å–ª–∏ –≤—ã –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

1. –û–±–Ω–æ–≤–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é:
   ```bash
   git pull origin main
   npm install
   npm run build
   ```

2. –ü—É—Ç–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å ‚Äî –æ–±–Ω–æ–≤–∏—Ç–µ –∏–º–ø–æ—Ä—Ç—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

3. –°–º. [ARCHITECTURE.md](./ARCHITECTURE.md) –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```

### 7. –ú–µ—Ä–¥–∂ –≤ main

- [ ] –°–æ–∑–¥–∞—Ç—å PR –∏–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –≤–µ—Ç–∫–∏:
  ```bash
  gh pr create \
    --title "feat: multi-server architecture" \
    --body "$(cat <<EOF
  ## Summary

  –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è monorepo –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö MCP —Å–µ—Ä–≤–µ—Ä–æ–≤

  ## Changes

  - ‚úÖ Framework –ø–∞–∫–µ—Ç—ã –≤ packages/framework/
  - ‚úÖ Server –ø–∞–∫–µ—Ç—ã –≤ packages/servers/
  - ‚úÖ Scope: @mcp-server/yandex-tracker
  - ‚úÖ –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –±–∞–Ω–¥–ª: yandex-tracker.bundle.js
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã workflows

  ## Validation

  - ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
  - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
  - ‚úÖ CI/CD –ø—Ä–æ—Ö–æ–¥–∏—Ç
  - ‚úÖ MCP —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç

  ## Breaking Changes

  –°–º. CHANGELOG.md –∏ MIGRATION.md

  Ref: migration plan Phase 0-2.3
  EOF
  )"
  ```

- [ ] –î–æ–∂–¥–∞—Ç—å—Å—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è CI/CD
- [ ] –°–¥–µ–ª–∞—Ç—å review (–∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –∫–æ–≥–æ-—Ç–æ)
- [ ] –ú–µ—Ä–¥–∂ –≤ main:
  ```bash
  # –ß–µ—Ä–µ–∑ GitHub UI –∏–ª–∏ CLI:
  gh pr merge --squash --delete-branch
  ```

### 8. –°–æ–∑–¥–∞–Ω–∏–µ release tags

- [ ] –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ main:
  ```bash
  git checkout main
  git pull origin main
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å git tags –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞:
  ```bash
  # Framework packages (–µ—Å–ª–∏ –≤–µ—Ä—Å–∏–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)
  git tag @mcp-framework/infrastructure@1.0.0
  git tag @mcp-framework/core@1.0.0
  git tag @mcp-framework/search@1.0.0

  # Server package
  git tag @mcp-server/yandex-tracker@2.1.0

  # Push tags
  git push origin --tags
  ```

### 9. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ npm (–µ—Å–ª–∏ –≥–æ—Ç–æ–≤—ã)

**–í–ù–ò–ú–ê–ù–ò–ï:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≥–æ—Ç–æ–≤—ã –∫ –ø—É–±–ª–∏—á–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏!

- [ ] –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å framework/infrastructure:
  ```bash
  cd packages/framework/infrastructure
  npm publish --access public
  ```

- [ ] –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å framework/core:
  ```bash
  cd packages/framework/core
  npm publish --access public
  ```

- [ ] –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å framework/search:
  ```bash
  cd packages/framework/search
  npm publish --access public
  ```

- [ ] –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å server/yandex-tracker:
  ```bash
  cd packages/servers/yandex-tracker
  npm publish --access public
  ```

### 10. –°–æ–∑–¥–∞—Ç—å GitHub Release

- [ ] –°–æ–∑–¥–∞—Ç—å release —á–µ—Ä–µ–∑ GitHub UI –∏–ª–∏ CLI:
  ```bash
  gh release create v2.1.0 \
    --title "v2.1.0: Multi-Server Architecture" \
    --notes-file CHANGELOG.md \
    --latest
  ```

- [ ] –ü—Ä–∏–ª–æ–∂–∏—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
  ```bash
  # –°–æ–∑–¥–∞—Ç—å tarball –¥–ª—è server
  cd packages/servers/yandex-tracker
  npm pack
  gh release upload v2.1.0 mcp-server-yandex-tracker-2.1.0.tgz
  ```

### 11. –û–±–Ω–æ–≤–∏—Ç—å README badges (–µ—Å–ª–∏ –µ—Å—Ç—å)

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ npm badges –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –Ω–æ–≤–æ–µ –∏–º—è –ø–∞–∫–µ—Ç–∞:
  ```markdown
  [![npm version](https://badge.fury.io/js/@mcp-server%2Fyandex-tracker.svg)](https://www.npmjs.com/package/@mcp-server/yandex-tracker)
  ```

### 12. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ npm –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
  ```bash
  cd /tmp
  npx @mcp-server/yandex-tracker --help
  # –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å
  ```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ npmjs.com —á—Ç–æ –ø–∞–∫–µ—Ç—ã –≤–∏–¥–Ω—ã:
  - https://www.npmjs.com/package/@mcp-framework/infrastructure
  - https://www.npmjs.com/package/@mcp-framework/core
  - https://www.npmjs.com/package/@mcp-framework/search
  - https://www.npmjs.com/package/@mcp-server/yandex-tracker

---

## üì§ –†–µ–∑—É–ª—å—Ç–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

- ‚úÖ Multi-server –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∞
- ‚úÖ –í—Å–µ –ø–∞–∫–µ—Ç—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞
- ‚úÖ CI/CD –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Release —Å–æ–∑–¥–∞–Ω
- ‚úÖ Migration guide –≥–æ—Ç–æ–≤

---

## üéâ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö MCP —Å–µ—Ä–≤–µ—Ä–æ–≤.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤ README –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è scaffold –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å best practices –¥–ª—è server —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
