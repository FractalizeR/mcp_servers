# Phase 1.2: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ Server –ø–∞–∫–µ—Ç–∞

**–¶–µ–ª—å:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å yandex-tracker –≤ `packages/servers/` –∏ –æ–±–Ω–æ–≤–∏—Ç—å scope –Ω–∞ `@mcp-server/`

**–í–µ—Ç–∫–∞:** `claude/migrate-server-package-{session-id}`

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 0.1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** 1.1, 1.3, 1.4

**–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã:** –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ (—Ä–∞–±–æ—Ç–∞–µ–º –≤ packages/servers/, –¥—Ä—É–≥–∏–µ –≤–µ—Ç–∫–∏ —Ç–∞–º –Ω–µ —Ç—Ä–æ–≥–∞—é—Ç)

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

### 1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É

```bash
git checkout main
git pull origin main
git checkout -b claude/migrate-server-package-{session-id}
```

### 2. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞

- [ ] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å yandex-tracker —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏—Å—Ç–æ—Ä–∏–∏:
```bash
git mv packages/yandex-tracker packages/servers/yandex-tracker
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –í–°–ï —Ñ–∞–π–ª—ã –∏ –º–æ–¥—É–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã:**

- [ ] –°—Ä–∞–≤–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ (–¥–æ/–ø–æ—Å–ª–µ):
```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –î–û –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è:
find packages/yandex-tracker -type f | wc -l > /tmp/files-count-before.txt

# –ü–æ—Å–ª–µ git mv –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
find packages/servers/yandex-tracker -type f | wc -l > /tmp/files-count-after.txt

diff /tmp/files-count-before.txt /tmp/files-count-after.txt && echo "‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã" || echo "‚ö†Ô∏è –ü–†–û–í–ï–†–¨: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å!"
```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø–æ–ª–Ω–∞—è:
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å:
test -d packages/servers/yandex-tracker/src && echo "‚úÖ src/"
test -d packages/servers/yandex-tracker/tests && echo "‚úÖ tests/"
test -d packages/servers/yandex-tracker/src/cli && echo "‚úÖ src/cli/"
test -d packages/servers/yandex-tracker/src/tools && echo "‚úÖ src/tools/"
test -d packages/servers/yandex-tracker/src/tracker_api && echo "‚úÖ src/tracker_api/"
test -d packages/servers/yandex-tracker/src/composition-root && echo "‚úÖ src/composition-root/"
```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã:
```bash
# Tools
test -f packages/servers/yandex-tracker/src/tools/index.ts && echo "‚úÖ tools/index.ts"

# API operations
ls packages/servers/yandex-tracker/src/tracker_api/api_operations/*.ts | head -3

# Entities
ls packages/servers/yandex-tracker/src/tracker_api/entities/*.ts | head -3

# Composition root
test -f packages/servers/yandex-tracker/src/composition-root/container.ts && echo "‚úÖ DI container"
```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ CLI —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ:
```bash
ls packages/servers/yandex-tracker/src/cli/
test -f packages/servers/yandex-tracker/src/cli/mcp-connect.ts && echo "‚úÖ CLI entry point"
```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –í–°–ï —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã:
```bash
# –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
find packages/servers/yandex-tracker/tests -name "*.test.ts" -o -name "*.spec.ts" | wc -l

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤:
test -d packages/servers/yandex-tracker/tests/tools && echo "‚úÖ tests/tools/"
test -d packages/servers/yandex-tracker/tests/tracker_api && echo "‚úÖ tests/tracker_api/"
find packages/servers/yandex-tracker/tests -name "*cli*" -o -name "*connect*" | head -3 || echo "‚ö†Ô∏è CLI —Ç–µ—Å—Ç—ã - –ø—Ä–æ–≤–µ—Ä—å –≤—Ä—É—á–Ω—É—é"
```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ç–∞—Ä–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ü–û–õ–ù–û–°–¢–¨–Æ —É–¥–∞–ª–µ–Ω–∞:
```bash
test ! -d packages/yandex-tracker && echo "‚úÖ OK - —Å—Ç–∞—Ä–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞" || echo "‚ùå –û–®–ò–ë–ö–ê: —Å—Ç–∞—Ä–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –µ—â–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!"
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ package.json

**`packages/servers/yandex-tracker/package.json`:**

- [ ] –ò–∑–º–µ–Ω–∏—Ç—å `name`:
  ```json
  {
    "name": "@mcp-server/yandex-tracker",
    "version": "2.1.0"
  }
  ```

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `bin` (–ø–æ–∫–∞ –æ—Å—Ç–∞–≤–∏—Ç—å bundle.js, –ø–µ—Ä–µ–∏–º–µ–Ω—É–µ–º –≤ 1.3):
  ```json
  {
    "bin": {
      "mcp-server-yandex-tracker": "./dist/bundle.js",
      "mcp-connect": "./dist/cli/mcp-connect.js"
    }
  }
  ```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å dependencies –Ω–∞ `@mcp-framework/*` (–¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):
  ```json
  {
    "dependencies": {
      "@mcp-framework/infrastructure": "workspace:*",
      "@mcp-framework/core": "workspace:*",
      "@mcp-framework/search": "workspace:*"
    }
  }
  ```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ tsconfig.json

- [ ] `packages/servers/yandex-tracker/tsconfig.json`:
  - –û–±–Ω–æ–≤–∏—Ç—å `extends`: `"../../tsconfig.base.json"` ‚Üí `"../../../tsconfig.base.json"`
  - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `../tsconfig.base.json` –µ—Å–ª–∏ —Å–æ–∑–¥–∞–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –≤ servers/

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –≤ –∫–æ–¥–µ

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç npm package names:
  ```typescript
  // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  import { BaseTool } from '@mcp-framework/core';
  import { HttpClient } from '@mcp-framework/infrastructure';

  // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–∞–∫–∏–µ - –∏—Å–ø—Ä–∞–≤–∏—Ç—å)
  import { BaseTool } from '../../../core/src/...';
  ```

### 7. –ü–æ–∏—Å–∫ –≤—Å–µ—Ö —É–ø–æ–º–∏–Ω–∞–Ω–∏–π —Å—Ç–∞—Ä—ã—Ö –ø—É—Ç–µ–π

**–ü–æ–∏—Å–∫ –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö:**

- [ ] –ù–∞–π—Ç–∏ –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ –ø—É—Ç–∏ –≤ –∫–æ–¥–µ yandex-tracker:
```bash
rg -g '!node_modules' -g '!dist' 'packages/yandex-tracker' packages/servers/yandex-tracker/ || echo "–ù–µ –Ω–∞–π–¥–µ–Ω–æ"
```

- [ ] –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è ‚Äî –∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –Ω–æ–≤—ã–µ –ø—É—Ç–∏ –∏–ª–∏ npm package names

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å vitest –∫–æ–Ω—Ñ–∏–≥–∏:
```bash
find packages/servers/yandex-tracker -name "vitest.config.*" | xargs grep -l "packages/yandex-tracker" || echo "OK"
```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å tsup –∫–æ–Ω—Ñ–∏–≥–∏:
```bash
find packages/servers/yandex-tracker -name "tsup.config.*" | xargs grep -l "packages/yandex-tracker" || echo "OK"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Å—Ç–æ–≤ (–º–æ–∫–∏, fixtures):**

- [ ] –ù–∞–π—Ç–∏ –≤ —Ç–µ—Å—Ç–∞—Ö —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –ø—É—Ç–µ–π:
```bash
rg -g '*test*' -g '*spec*' 'packages/yandex-tracker' packages/servers/yandex-tracker/ || echo "OK"
```

### 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .dependency-cruiser.cjs (–¥–ª—è yandex-tracker)

- [ ] –ï—Å–ª–∏ –µ—Å—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è yandex-tracker, –æ–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç–∏:
  - `packages/yandex-tracker` ‚Üí `packages/servers/yandex-tracker`

### 9. –õ–æ–∫–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

- [ ] `npm install` (–ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–º–ª–∏–Ω–∫–∏)
- [ ] `npm run build --workspace=@mcp-server/yandex-tracker` ‚Äî —É—Å–ø–µ—à–Ω–æ
- [ ] `npm run test --workspace=@mcp-server/yandex-tracker` ‚Äî —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] `npm run lint --workspace=@mcp-server/yandex-tracker` ‚Äî –±–µ–∑ –æ—à–∏–±–æ–∫

### 10. –ü—Ä–æ–≤–µ—Ä–∫–∞ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `mcp-connect` —Ä–∞–±–æ—Ç–∞–µ—Ç:
  ```bash
  node packages/servers/yandex-tracker/dist/cli/mcp-connect.js --help
  ```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–Ω–¥–ª:
  ```bash
  node packages/servers/yandex-tracker/dist/bundle.js
  # (–¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è MCP —Å–µ—Ä–≤–µ—Ä, Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)
  ```

---

## üì§ –†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞

- ‚úÖ –ü–∞–∫–µ—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω –≤ `packages/servers/yandex-tracker`
- ‚úÖ Scope –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ `@mcp-server/yandex-tracker`
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ framework –ø–∞–∫–µ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°–±–æ—Ä–∫–∞, —Ç–µ—Å—Ç—ã, CLI —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è git —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

---

## üöÄ –ö–æ–º–º–∏—Ç –∏ –ø—É—à

```bash
git add packages/servers
git commit -m "refactor: –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å yandex-tracker –≤ packages/servers/

- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ø–∞–∫–µ—Ç –≤ packages/servers/yandex-tracker
- –ò–∑–º–µ–Ω–∏—Ç—å scope: mcp-server-yandex-tracker ‚Üí @mcp-server/yandex-tracker
- –û–±–Ω–æ–≤–∏—Ç—å tsconfig extends –ø—É—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ @mcp-framework/* –ø–∞–∫–µ—Ç—ã

Ref: Phase 1.2 migration plan

ü§ñ Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>"

git push -u origin claude/migrate-server-package-{session-id}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –º–µ—Ä–¥–∂—É (–ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Phase 2.1)
