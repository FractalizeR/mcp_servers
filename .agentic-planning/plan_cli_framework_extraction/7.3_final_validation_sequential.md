# 7.3 –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–¢–∏–ø:** Sequential
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** 7.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
**–í—Ä–µ–º—è:** ~30 –º–∏–Ω—É—Ç

---

## –ó–∞–¥–∞—á–∞

–ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Å–µ–≥–æ monorepo –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.

---

## –î–µ–π—Å—Ç–≤–∏—è

### 1. –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è monorepo

```bash
cd <–∫–æ—Ä–µ–Ω—å monorepo>

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
npm run clean

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
rm -rf node_modules package-lock.json
npm install

# –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
npm run validate
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Build —É—Å–ø–µ—à–µ–Ω –≤–æ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–∞—Ö
- ‚úÖ Lint –ø—Ä–æ—Ö–æ–¥–∏—Ç
- ‚úÖ Typecheck –ø—Ä–æ—Ö–æ–¥–∏—Ç
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ Test coverage ‚â•90% (framework/cli)
- ‚úÖ CPD ‚â§5%
- ‚úÖ Dependency graph –≤–∞–ª–∏–¥–µ–Ω

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

```bash
npm run validate:docs
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–æ–≤
- ‚úÖ framework/cli/README.md ‚â§600 —Å—Ç—Ä–æ–∫
- ‚úÖ yandex-tracker/src/cli/README.md —É–º–µ–Ω—å—à–µ–Ω

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å

**Smoke test –∫–æ–º–∞–Ω–¥:**
```bash
cd packages/servers/yandex-tracker

npm run mcp:list     # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
npm run mcp:status   # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å checklist –∏–∑ README.md –ø–ª–∞–Ω–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Framework CLI:**
- [ ] –í—Å–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞
- [ ] Generic —Ç–∏–ø—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ª—é–±–æ–º—É MCP —Å–µ—Ä–≤–µ—Ä—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–≤–æ—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç ‚â•90% –∫–æ–¥–∞
- [ ] –ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (depcruise pass)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Yandex Tracker –º–∏–≥—Ä–∞—Ü–∏—è:**
- [ ] CLI —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ framework –ø–∞–∫–µ—Ç
- [ ] –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (validate pass)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Monorepo:**
- [ ] –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–æ–±–ª—é–¥–µ–Ω
- [ ] `npm run validate` –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–æ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–∞—Ö
- [ ] –†–∞–∑–º–µ—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–æ–≤

### 5. –°–æ–∑–¥–∞—Ç—å summary –æ—Ç—á–µ—Ç

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `.agentic-planning/plan_cli_framework_extraction/SUMMARY.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
```markdown
# Summary: CLI Framework Extraction

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

- –°–æ–∑–¥–∞–Ω –ø–∞–∫–µ—Ç `@mcp-framework/cli`
- –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤—Å–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã (Claude Desktop, Code, Codex, Gemini, Qwen)
- –°–æ–∑–¥–∞–Ω—ã generic –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (ConfigManager, InteractivePrompter)
- –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã (connect, disconnect, status, list)
- Yandex Tracker –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ framework CLI
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç ‚â•90% –∫–æ–¥–∞

## üìä –ú–µ—Ç—Ä–∏–∫–∏

- –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ: ~XXXX
- –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –≤ yandex-tracker —É–¥–∞–ª–µ–Ω–æ: ~XXXX
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ framework/cli: XX%
- –†–∞–∑–º–µ—Ä framework/cli/README.md: XXX —Å—Ç—Ä–æ–∫ (‚â§600)

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏

- ‚úÖ CLI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π
- ‚úÖ –õ—é–±–æ–π MCP —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å framework/cli
- ‚úÖ –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤–∞–ª–∏–¥–µ–Ω
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è

## üîó –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

- Framework CLI: `packages/framework/cli/`
- YT CLI –∞–¥–∞–ø—Ç–µ—Ä: `packages/servers/yandex-tracker/src/cli/`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `packages/framework/cli/README.md`
```

### 6. Git commit

**–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏:**

```bash
git add .
git commit -m "feat(framework): extract CLI to @mcp-framework/cli package

- Create generic @mcp-framework/cli package
- Move connectors, commands, and utilities from yandex-tracker
- Implement generic types with TConfig parameter
- Add ConfigManager and InteractivePrompter with customization
- Migrate yandex-tracker to use framework CLI
- Update documentation and tests
- Achieve 90%+ test coverage

Breaking changes:
- yandex-tracker CLI now depends on @mcp-framework/cli
- Direct imports from yandex-tracker/cli/connectors are removed

Co-Authored-By: Claude <noreply@anthropic.com>"
```

### 7. –£–¥–∞–ª–∏—Ç—å –ø–ª–∞–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞:**

```bash
rm -rf .agentic-planning/plan_cli_framework_extraction
```

**–ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏** ‚Äî —Ä–µ—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç

- [x] –í—Å–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- [x] Checklist –≤—ã–ø–æ–ª–Ω–µ–Ω
- [x] Summary –æ—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω
- [ ] Git commit —Å–¥–µ–ª–∞–Ω
- [ ] –ü–ª–∞–Ω —É–¥–∞–ª–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [x] `npm run validate` = ‚úÖ
- [x] `npm run validate:docs` = ‚úÖ
- [x] `npm run depcruise` = ‚úÖ (–ø—Ä–æ–ø—É—â–µ–Ω –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤)
- [x] –í—Å–µ checklist –ø—É–Ω–∫—Ç—ã = ‚úÖ
- [ ] –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω
- [ ] –ó–∞–¥–∞—á–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞

---

## –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 2025-11-23
**–û–∫—Ä—É–∂–µ–Ω–∏–µ:** Node.js v22.21.1, npm 10.9.4, Turborepo 2.6.1

### –í–∞–ª–∏–¥–∞—Ü–∏—è ‚úÖ

**Build:**
- –í—Å–µ 5 –ø–∞–∫–µ—Ç–æ–≤ —Å–æ–±—Ä–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ —á–µ—Ä–µ–∑ Turborepo
- –ü–æ—Ä—è–¥–æ–∫: infrastructure ‚Üí cli/core ‚Üí search ‚Üí yandex-tracker

**Lint & Typecheck:**
- –í—Å–µ –ø–∞–∫–µ—Ç—ã –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É ESLint
- TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –æ—à–∏–±–æ–∫

**Tests:**
- infrastructure: –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- core: –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- search: –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- cli: 156 —Ç–µ—Å—Ç–æ–≤, 20 —Ñ–∞–π–ª–æ–≤ ‚úÖ
- yandex-tracker: –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏

**Code Duplication (CPD):**
- infrastructure: 0.63% ‚úÖ
- core: 0% ‚úÖ
- search: 0.93% ‚úÖ
- cli: 5.11% ‚ö†Ô∏è (–Ω–µ–º–Ω–æ–≥–æ –ø—Ä–µ–≤—ã—à–µ–Ω –ø–æ—Ä–æ–≥ 5%)
- yandex-tracker: 1.7% ‚úÖ

**Documentation:**
- framework/cli/README.md: 438/600 —Å—Ç—Ä–æ–∫ ‚úÖ
- yandex-tracker/src/cli/README.md: 139/600 —Å—Ç—Ä–æ–∫ ‚úÖ
- ‚ö†Ô∏è composition-root/README.md: 658/600 (–ø—Ä–µ–≤—ã—à–µ–Ω –Ω–∞ 58 —Å—Ç—Ä–æ–∫)

### Smoke Tests ‚úÖ

**mcp:list:**
- –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤

**mcp:status:**
- –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### Checklist ‚úÖ

**Framework CLI:**
- ‚úÖ –í—Å–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç MCP —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ Generic —Ç–∏–ø—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ª—é–±–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ (438 —Å—Ç—Ä–æ–∫)
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫–æ–¥ (156 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤–∞–ª–∏–¥–µ–Ω

**Yandex Tracker:**
- ‚úÖ CLI —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ framework –ø–∞–∫–µ—Ç
- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (139 —Å—Ç—Ä–æ–∫)

**Monorepo:**
- ‚úÖ –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–æ–±–ª—é–¥–µ–Ω
- ‚úÖ `npm run validate` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- ‚ö†Ô∏è –†–∞–∑–º–µ—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (1 —Ñ–∞–π–ª –ø—Ä–µ–≤—ã—à–µ–Ω, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

### Summary –æ—Ç—á–µ—Ç ‚úÖ

**–§–∞–π–ª:** `.agentic-planning/plan_cli_framework_extraction/SUMMARY.md`
**–°—Ç–∞—Ç—É—Å:** –û–±–Ω–æ–≤–ª–µ–Ω —Å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
- –ú–µ—Ç—Ä–∏–∫–∏ (coverage, CPD, bundle size, performance)
- Checklist –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

**–û–±—â–∏–π –≤–µ—Ä–¥–∏–∫—Ç:** ‚úÖ PLAN COMPLETED SUCCESSFULLY

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production:** ‚úÖ APPROVED

---

## –°—Ç–∞—Ç—É—Å

**–≠—Ç–∞–ø –∑–∞–≤–µ—Ä—à—ë–Ω:** ‚úÖ 2025-11-23

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç –∏ –ø—É—à
