# –ü–ª–∞–Ω: –í—ã–Ω–æ—Å CLI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ @mcp-framework/cli

**–°—Ç–∞—Ç—É—Å:** Planning
**–°–æ–∑–¥–∞–Ω:** 2025-11-22
**–¶–µ–ª—å:** –í—ã–Ω–µ—Å—Ç–∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π CLI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑ yandex-tracker –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π framework –ø–∞–∫–µ—Ç

---

## üéØ –û–±—â–∞—è –∑–∞–¥–∞—á–∞

–í—ã–¥–µ–ª–∏—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π CLI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (80-90% –∫–æ–¥–∞) –∏–∑ `packages/servers/yandex-tracker/src/cli` –≤ –Ω–æ–≤—ã–π –ø–∞–∫–µ—Ç `packages/framework/cli`, —Å–¥–µ–ª–∞–≤ –µ–≥–æ generic –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º –¥–ª—è –ª—é–±–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞.

---

## üìã –≠—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ (sequential)
- [1.1 –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è CLI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](./1.1_inventory_sequential.md)
- [1.2 –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](./1.2_dependency_analysis_sequential.md)
- [1.3 –î–∏–∑–∞–π–Ω API –¥–ª—è generic CLI](./1.3_api_design_sequential.md)

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ @mcp-framework/cli (sequential)
- [2.1 –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–∫–µ—Ç–∞](./2.1_package_structure_sequential.md)
- [2.2 –í—ã–Ω–æ—Å –±–∞–∑–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤](./2.2_base_types_sequential.md)
- [2.3 –í—ã–Ω–æ—Å –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤](./2.3_connectors_sequential.md)

### –≠—Ç–∞–ø 3: Generic –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (parallel)
- [3.1 Generic ConfigManager](./3.1_config_manager_parallel.md)
- [3.2 Generic InteractivePrompter](./3.2_interactive_prompter_parallel.md)
- [3.3 –£—Ç–∏–ª–∏—Ç—ã (command-executor, file-manager, logger)](./3.3_utils_parallel.md)

### –≠—Ç–∞–ø 4: –ö–æ–º–∞–Ω–¥—ã CLI (sequential)
- [4.1 –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (status, list, disconnect)](./4.1_basic_commands_sequential.md)
- [4.2 Connect –∫–æ–º–∞–Ω–¥–∞ —Å hooks](./4.2_connect_command_sequential.md)
- [4.3 Validate –∫–æ–º–∞–Ω–¥–∞](./4.3_validate_command_sequential.md)

### –≠—Ç–∞–ø 5: –ú–∏–≥—Ä–∞—Ü–∏—è yandex-tracker (sequential)
- [5.1 –°–æ–∑–¥–∞–Ω–∏–µ yandex-tracker CLI –∞–¥–∞–ø—Ç–µ—Ä–∞](./5.1_yt_adapter_sequential.md)
- [5.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](./5.2_update_dependencies_sequential.md)
- [5.5 üö® Feature Flags –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥](./5.5_feature_flags_sequential.md) **‚Üê –ö–†–ò–¢–ò–ß–ù–û**
- [5.3 Cleanup –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞](./5.3_cleanup_sequential.md) (legacy –∫–æ–¥ –ù–ï —É–¥–∞–ª—è—Ç—å!)

### –≠—Ç–∞–ø 6: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã (parallel)
- [6.1 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è framework/cli](./6.1_framework_docs_parallel.md)
- [6.2 –¢–µ—Å—Ç—ã framework/cli](./6.2_framework_tests_parallel.md)
- [6.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ yandex-tracker –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](./6.3_yt_docs_parallel.md)
- [6.4 üö® Breaking Changes –∏ Migration Guide](./6.4_breaking_changes_parallel.md) **‚Üê –ö–†–ò–¢–ò–ß–ù–û**

### –≠—Ç–∞–ø 7: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (sequential)
- [7.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](./7.1_integration_testing_sequential.md)
- [7.15 üö® Performance Benchmarks](./7.15_performance_benchmarks_sequential.md) **‚Üê –ö–†–ò–¢–ò–ß–ù–û**
- [7.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ monorepo](./7.2_monorepo_deps_sequential.md)
- [7.3 –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è](./7.3_final_validation_sequential.md)

### –≠—Ç–∞–ø 8: Legacy Cleanup (—á–µ—Ä–µ–∑ 2-4 –Ω–µ–¥–µ–ª–∏ –ø–æ—Å–ª–µ —Ä–µ–ª–∏–∑–∞)
- [8.1 –£–¥–∞–ª–µ–Ω–∏–µ legacy –∫–æ–¥–∞](./8.1_legacy_cleanup_sequential.md) (–ù–ï –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å—Ä–∞–∑—É!)

---

## üîç –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

### Generic vs Specific

**–í—ã–Ω–æ—Å–∏–º –≤ framework (generic):**
- –í—Å–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã (Claude Desktop, Claude Code, Codex, Gemini, Qwen)
- –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (status, list, disconnect)
- –£—Ç–∏–ª–∏—Ç—ã (command-executor, file-manager, logger)
- –†–µ–µ—Å—Ç—Ä –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤
- –ë–∞–∑–æ–≤—ã–π ConfigManager —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏

**–û—Å—Ç–∞–≤–ª—è–µ–º –≤ yandex-tracker (specific):**
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Yandex Tracker
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–ª—è MCPServerConfig (token, orgId)
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–æ–ª–µ–π

### API Design

**Generic —Ç–∏–ø—ã:**
```typescript
// Framework –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–π —Ç–∏–ø
export interface BaseMCPServerConfig {
  projectPath: string;
  logLevel?: LogLevel;
}

// Yandex Tracker —Ä–∞—Å—à–∏—Ä—è–µ—Ç
export interface YandexTrackerMCPConfig extends BaseMCPServerConfig {
  token: string;
  orgId: string;
  apiBase?: string;
}
```

**Hooks –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏:**
```typescript
// Framework –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–æ–º–ø—Ç–æ–≤
export type ConfigPromptDefinition<T> = {
  name: keyof T;
  type: 'input' | 'password' | 'list';
  message: string;
  validate?: (value: unknown) => string | true;
};

// Yandex Tracker –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–≤–æ–∏ –ø—Ä–æ–º–ø—Ç—ã
export const ytConfigPrompts: ConfigPromptDefinition<YandexTrackerMCPConfig>[] = [
  { name: 'token', type: 'password', message: 'OAuth —Ç–æ–∫–µ–Ω:', ... },
  { name: 'orgId', type: 'input', message: 'ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:', ... },
];
```

---

## üìä –û—Ü–µ–Ω–∫–∞ –æ–±—ä–µ–º–∞ —Ä–∞–±–æ—Ç—ã

**–ü–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º:**
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑: ~2 —á–∞—Å–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞: ~3 —á–∞—Å–∞
- Generic –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: ~4 —á–∞—Å–∞ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
- –ö–æ–º–∞–Ω–¥—ã: ~3 —á–∞—Å–∞
- –ú–∏–≥—Ä–∞—Ü–∏—è + Feature Flags: ~3 —á–∞—Å–∞
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã: ~5 —á–∞—Å–∞ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
- –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è + Benchmarks: ~3 —á–∞—Å–∞
- Legacy cleanup (–ø–æ–∑–∂–µ): ~1 —á–∞—Å

**–ò—Ç–æ–≥–æ:** ~15-18 —á–∞—Å–æ–≤ —á–∏—Å—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–º–æ–∂–Ω–æ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å —ç—Ç–∞–ø—ã 3 –∏ 6)

**‚ö†Ô∏è –û–ë–ù–û–í–õ–ï–ù–û –ø–æ—Å–ª–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Ä–µ–≤—å—é:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —ç—Ç–∞–ø—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫ 1: Breaking changes –¥–ª—è yandex-tracker
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- ‚úÖ Feature flags –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ rollout (—ç—Ç–∞–ø 5.5)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ legacy –∫–æ–¥–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–∫–∞—Ç–∞
- ‚úÖ CHANGELOG.md –∏ MIGRATION.md (—ç—Ç–∞–ø 6.4)

### –†–∏—Å–∫ 2: –°–ª–æ–∂–Ω–æ—Å—Ç—å generic API
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ README, –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤

### –†–∏—Å–∫ 3: –ù–∞—Ä—É—à–µ–Ω–∏–µ dependency graph
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `npm run depcruise`

### –†–∏—Å–∫ 4: Performance —Ä–µ–≥—Ä–µ—Å—Å–∏–∏
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ benchmarks (—ç—Ç–∞–ø 7.15)
- ‚úÖ –ü–æ—Ä–æ–≥–∏ –¥–ª—è bundle size, startup time, memory
- ‚úÖ Fail build –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–æ–≤

### –†–∏—Å–∫ 5: –¢–µ—Å—Ç—ã –º–æ–≥—É—Ç —Å–ª–æ–º–∞—Ç—å—Å—è
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ó–∞–ø—É—Å–∫ `npm run validate` –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

**Framework CLI:**
- [ ] –í—Å–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞
- [ ] Generic —Ç–∏–ø—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ª—é–±–æ–º—É MCP —Å–µ—Ä–≤–µ—Ä—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–≤–æ—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç ‚â•90% –∫–æ–¥–∞
- [ ] –ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (depcruise pass)

**Yandex Tracker –º–∏–≥—Ä–∞—Ü–∏—è:**
- [ ] CLI —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ framework –ø–∞–∫–µ—Ç
- [ ] –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (validate pass)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**Monorepo:**
- [ ] –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–æ–±–ª—é–¥–µ–Ω (infrastructure ‚Üí core ‚Üí search ‚Üí cli ‚Üí yandex-tracker)
- [ ] `npm run validate` –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–æ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–∞—Ö
- [ ] –†–∞–∑–º–µ—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–æ–≤

---

## üìù –ó–∞–º–µ—á–∞–Ω–∏—è

- CLI –ø–∞–∫–µ—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç `@mcp-framework/infrastructure` (–¥–ª—è utilities)
- –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `@mcp-framework/core` (CLI ‚Äî –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç)
- –°–æ–±–ª—é–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏–∑ CLAUDE.md
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞: commit + push
