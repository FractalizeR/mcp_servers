# 1.1 Инвентаризация CLI компонентов

**Тип:** Sequential
**Зависимости:** Нет
**Время:** ~30 минут

---

## Задача

Составить полную инвентаризацию всех компонентов в `packages/servers/yandex-tracker/src/cli` с классификацией на:
- Generic (можно вынести как есть)
- Partially specific (требует параметризации)
- Fully specific (остается в yandex-tracker)

---

## Действия

### 1. Создать inventory таблицу

Для каждого файла в `src/cli/` определить:
- Путь к файлу
- Категория (Generic/Partially/Specific)
- Зависимости от yandex-tracker специфичных вещей
- Действие (Move/Refactor/Keep)

**Формат:**
```markdown
| Файл | Категория | Зависимости YT | Действие |
|------|-----------|----------------|----------|
| connectors/base/connector.interface.ts | Partially | MCPServerConfig | Refactor → generic |
| connectors/claude-desktop/... | Generic | Нет | Move as-is |
```

### 2. Анализ типов

**Проверить все TypeScript типы:**
- Какие типы используются в интерфейсах?
- Какие из них специфичны для YT?
- Можно ли их параметризовать?

**Ключевые типы для анализа:**
- `MCPServerConfig` — специфичные поля (token, orgId)
- `MCPClientInfo` — generic
- `ConnectionStatus` — generic
- `MCPConnector` — partially (использует MCPServerConfig)

### 3. Анализ констант

**Найти все использования констант из `constants.ts`:**
```bash
grep -r "from.*constants" src/cli/
```

**Определить:**
- Какие константы можно параметризовать?
- Какие должны передаваться извне?

### 4. Анализ зависимостей npm

**Список npm зависимостей CLI:**
- inquirer
- chalk
- ora
- commander

**Вопросы:**
- Все ли они нужны в framework/cli?
- Есть ли конфликты версий?

---

## Результат

**Создать файл:** `CLI_INVENTORY.md` в корне плана

**Содержание:**
1. Полная таблица файлов с классификацией
2. Список типов для рефакторинга
3. Список констант для параметризации
4. Список npm зависимостей
5. Оценка сложности каждого компонента

---

## Критерии готовности

- [x] Все файлы из `src/cli/` классифицированы (20 файлов)
- [x] Идентифицированы все YT-специфичные зависимости (8 констант)
- [x] Определен список типов для generic рефакторинга (2 типа)
- [x] Список npm зависимостей готов (6 пакетов)
- [x] Документ `CLI_INVENTORY.md` создан

---

## ✅ Статус: ЗАВЕРШЕНО

**Дата завершения:** 2025-11-22
**Результат:** [CLI_INVENTORY.md](./CLI_INVENTORY.md)

**Ключевые находки:**
- 65% кода generic (можно вынести как есть)
- 25% требует параметризации
- 10% остается в YT (промпты)
- Все npm зависимости generic
- Нет конфликтов версий
