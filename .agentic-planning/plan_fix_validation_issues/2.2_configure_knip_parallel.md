# –≠—Ç–∞–ø 2.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Knip –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–∂–Ω–æ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö warnings [PARALLEL]

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2 (—Å—Ä–µ–¥–Ω–∏–π)
**–°—Ç–∞—Ç—É—Å:** ‚è™ –û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~2 —á–∞—Å–∞
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç
**–ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –≠—Ç–∞–ø 2.1

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ knip warnings

```
Unused files (21):
- Scripts: 10 —Ñ–∞–π–ª–æ–≤
- Test helpers: 10 —Ñ–∞–π–ª–æ–≤
- Other: 1 —Ñ–∞–π–ª

Unlisted dependencies (1):
- mime-types (–±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —ç—Ç–∞–ø–µ 1.2)

Unused exports (42):
- Constants: 10
- DTO Factories: 19
- Entity Factories: 11
- Utilities: 2

Unused exported types (45):
- Schema types: 28
- Internal types: 17
```

---

## üîç –≠–¢–ê–ü 1: –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### 1.1. –ê–Ω–∞–ª–∏–∑ "Unused files"

#### –ó–∞–¥–∞—á–∏ –∞–Ω–∞–ª–∏–∑–∞:
- [ ] –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π unused file –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ —Ñ–∞–π–ª—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- [ ] –ü–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É knip –Ω–µ –≤–∏–¥–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
```bash
# –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ unused files
npm run knip 2>&1 | grep -A 30 "Unused files"

# –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
# 1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –≤ npm scripts?
grep -r "scripts/" package.json packages/*/package.json

# 2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ –≤—Ä—É—á–Ω—É—é?
find . -name "*.md" -exec grep -l "smoke-test" {} \;

# 3. –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —É—Ç–∏–ª–∏—Ç–æ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏?
ls -la packages/servers/yandex-tracker/scripts/
```

#### –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è unused files:

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è A: –£—Ç–∏–ª–∏—Ç–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ npm run)**
```
packages/servers/yandex-tracker/scripts/smoke-test-server.ts
  ‚Ü≥ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: npm run test:smoke

packages/servers/yandex-tracker/scripts/validate-tool-registration.ts
  ‚Ü≥ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: npm run validate:tools

packages/servers/yandex-tracker/scripts/increment-build.ts
  ‚Ü≥ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: npm run build:bundle

packages/servers/yandex-tracker/scripts/build-mcpb.ts
  ‚Ü≥ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: npm run build:mcpb
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ù–∞–π—Ç–∏ –≤ package.json
grep -E "smoke-test|validate-tool|increment-build|build-mcpb" packages/servers/yandex-tracker/package.json
```

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è B: –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞**
```
packages/servers/yandex-tracker/scripts/list-tool-names.mjs
  ‚Ü≥ –†—É—á–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ tools

packages/servers/yandex-tracker/scripts/measure-tools-size.ts
  ‚Ü≥ –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ bundle –¥–ª—è tools
```

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è C: Test helpers (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)**
```
packages/servers/yandex-tracker/tests/helpers/assertion-helpers.ts
packages/servers/yandex-tracker/tests/helpers/attachment.fixture.ts
packages/servers/yandex-tracker/tests/helpers/common-fixtures.ts
packages/servers/yandex-tracker/tests/helpers/file-upload.helper.ts
packages/servers/yandex-tracker/tests/helpers/mock-factories.ts
packages/servers/yandex-tracker/tests/helpers/workflow-client.ts
packages/servers/yandex-tracker/tests/integration/helpers/fixture-generator.ts
packages/servers/yandex-tracker/tests/integration/helpers/mcp-client.ts
packages/servers/yandex-tracker/tests/integration/helpers/mock-server.ts
packages/servers/yandex-tracker/tests/integration/helpers/template-based-generator.ts
packages/servers/yandex-tracker/tests/test-constants.ts
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ù–∞–π—Ç–∏ –∏–º–ø–æ—Ä—Ç—ã test helpers –≤ —Ç–µ—Å—Ç–∞—Ö
grep -r "from.*helpers" packages/servers/yandex-tracker/tests/ | grep -v ".helpers.ts:"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∂–¥—ã–π helper
for helper in assertion-helpers attachment.fixture common-fixtures; do
  echo "=== $helper ==="
  grep -r "from.*$helper" packages/servers/yandex-tracker/tests/
done
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ helpers –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –¥–ª—è –±—É–¥—É—â–µ–≥–æ (unused —Å–µ–π—á–∞—Å, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã)

---

### 1.2. –ê–Ω–∞–ª–∏–∑ "Unused exports"

#### –ö–∞—Ç–µ–≥–æ—Ä–∏—è 1: Constants (10 unused)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å exports –≤ constants.ts
grep "^export const" packages/servers/yandex-tracker/src/constants.ts

# –ù–∞–π–¥–µ–Ω–Ω—ã–µ unused:
# MCP_SERVER_DESCRIPTION
# PROJECT_AUTHOR
# PROJECT_AUTHOR_EMAIL
# PROJECT_HOMEPAGE
# PROJECT_REPOSITORY_URL
# DEFAULT_MAX_BATCH_SIZE
# DEFAULT_MAX_CONCURRENT_REQUESTS
# DEFAULT_LOGS_DIR
# DEFAULT_LOG_MAX_SIZE
# DEFAULT_LOG_MAX_FILES
```

**–ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
for const in MCP_SERVER_DESCRIPTION PROJECT_AUTHOR PROJECT_HOMEPAGE; do
  echo "=== $const ==="
  grep -r "$const" packages/servers/yandex-tracker/src/
done
```

**–í–æ–ø—Ä–æ—Å—ã:**
1. –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –ª–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ API?
2. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ –≤ build scripts?
3. –ù—É–∂–Ω—ã –ª–∏ –¥–ª—è metadata/manifest?

**–ü—Ä–æ–≤–µ—Ä–∫–∞ build scripts:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ scripts/
grep -r "PROJECT_AUTHOR\|MCP_SERVER_DESCRIPTION" packages/servers/yandex-tracker/scripts/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ build –∫–æ–Ω—Ñ–∏–≥–∞—Ö
cat packages/servers/yandex-tracker/tsup.config.ts
```

#### –ö–∞—Ç–µ–≥–æ—Ä–∏—è 2: DTO Factories (19 unused)

```bash
# –°–ø–∏—Å–æ–∫ unused factories
grep "export.*function create" packages/servers/yandex-tracker/src/tracker_api/dto/issue/dto.factories.ts
```

**–ê–Ω–∞–ª–∏–∑:**
```
createMinimalCreateIssueDto    ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ—Å—Ç–∞—Ö?
createFullCreateIssueDto       ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ—Å—Ç–∞—Ö?
createUpdateIssueDto           ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ—Å—Ç–∞—Ö?
...
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ù–∞–π—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∞—Ö
grep -r "createMinimalCreateIssueDto" packages/servers/yandex-tracker/tests/

# –ù–∞–π—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ src/
grep -r "createMinimalCreateIssueDto" packages/servers/yandex-tracker/src/
```

**–í–æ–ø—Ä–æ—Å—ã:**
1. –≠—Ç–æ test utilities (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ—Å—Ç–∞—Ö)?
2. –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –¥–ª—è –±—É–¥—É—â–µ–≥–æ API?
3. –î–æ–ª–∂–Ω—ã –ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?

#### –ö–∞—Ç–µ–≥–æ—Ä–∏—è 3: Entity Factories (11 unused)

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è entity factories.

---

### 1.3. –ê–Ω–∞–ª–∏–∑ "Unused exported types"

#### Schema types (28 unused)

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫
npm run knip 2>&1 | grep -A 30 "Unused exported types"
```

**–ü—Ä–∏–º–µ—Ä—ã:**
```typescript
// Unused types –∏–∑ schemas
export type AddCommentParams = z.infer<typeof addCommentSchema>;
export type DeleteCommentParams = z.infer<typeof deleteCommentSchema>;
...
```

**–ê–Ω–∞–ª–∏–∑:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç—Ç–∏ —Ç–∏–ø—ã
grep -r "AddCommentParams" packages/servers/yandex-tracker/src/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Ç–µ—Å—Ç–∞—Ö
grep -r "AddCommentParams" packages/servers/yandex-tracker/tests/
```

**–í–æ–ø—Ä–æ—Å:** –Ø–≤–ª—è—é—Ç—Å—è –ª–∏ —ç—Ç–∏ —Ç–∏–ø—ã —á–∞—Å—Ç—å—é –ø—É–±–ª–∏—á–Ω–æ–≥–æ API –¥–ª—è consumers –ø–∞–∫–µ—Ç–∞?

---

## üõ†Ô∏è –≠–¢–ê–ü 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Knip

### 2.1. –°–æ–∑–¥–∞–Ω–∏–µ knip.config.js

#### –ó–∞–¥–∞—á–∏:
- [ ] –°–æ–∑–¥–∞—Ç—å `knip.config.js` –≤ –∫–æ—Ä–Ω–µ monorepo
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ workspace
- [ ] –î–æ–±–∞–≤–∏—Ç—å ignore patterns

```bash
# –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
touch knip.config.js
```

#### –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```javascript
/**
 * Knip configuration –¥–ª—è monorepo
 *
 * Knip –Ω–∞—Ö–æ–¥–∏—Ç unused files, dependencies, –∏ exports.
 * –ù–µ–∫–æ—Ç–æ—Ä—ã–µ "unused" —Ñ–∞–π–ª—ã –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (—Å–∫—Ä–∏–ø—Ç—ã, helpers),
 * –ø–æ—ç—Ç–æ–º—É –º—ã –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –∏—Ö –∑–¥–µ—Å—å.
 */

export default {
  // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ ignore patterns
  ignore: [
    // Build artifacts
    '**/dist/**',
    '**/node_modules/**',

    // Scripts (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ npm run)
    '**/scripts/**',

    // Test helpers (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
    '**/tests/helpers/**',
    '**/tests/**/helpers/**',

    // Generated files
    '**/generated-index.ts',
  ],

  // –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ exports
  ignoreExportsUsedInFile: true,  // –≠–∫—Å–ø–æ—Ä—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ —Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ

  // Workspace-specific –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  workspaces: {
    // Infrastructure
    'packages/framework/infrastructure': {
      entry: ['src/index.ts'],
      ignore: [],
    },

    // Core
    'packages/framework/core': {
      entry: ['src/index.ts'],
      ignore: [],
    },

    // Search
    'packages/framework/search': {
      entry: ['src/index.ts'],
      ignore: [
        'scripts/generate-tool-index.ts',  // Build script
      ],
    },

    // Yandex Tracker
    'packages/servers/yandex-tracker': {
      entry: [
        'src/index.ts',
        'src/cli/bin/mcp-connect.ts',
      ],
      ignore: [
        // Build and utility scripts
        'scripts/**',

        // Test utilities
        'tests/helpers/**',
        'tests/integration/helpers/**',
        'tests/test-constants.ts',

        // Factories (–ø—É–±–ª–∏—á–Ω—ã–π API –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
        'src/tracker_api/dto/**/dto.factories.ts',
        'src/tracker_api/entities/entity.factories.ts',
      ],
    },
  },

  // –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å unlisted dependencies (–±—É–¥—É—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)
  ignoreDependencies: [
    // –ë—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —ç—Ç–∞–ø–µ 1.2
    // 'mime-types',
  ],

  // –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ exports
  ignoredExports: [
    // –ü—É–±–ª–∏—á–Ω—ã–π API / Metadata
    'MCP_SERVER_DESCRIPTION',
    'PROJECT_AUTHOR',
    'PROJECT_AUTHOR_EMAIL',
    'PROJECT_HOMEPAGE',
    'PROJECT_REPOSITORY_URL',

    // Default configs (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö –ø–∞–∫–µ—Ç–∞—Ö –∏–ª–∏ —Ç–µ—Å—Ç–∞—Ö)
    'DEFAULT_MAX_BATCH_SIZE',
    'DEFAULT_MAX_CONCURRENT_REQUESTS',
    'DEFAULT_LOGS_DIR',
    'DEFAULT_LOG_MAX_SIZE',
    'DEFAULT_LOG_MAX_FILES',

    // Utility classes (–ø—É–±–ª–∏—á–Ω—ã–π API)
    'PaginationUtil',
  ],

  // –ù–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∏–ø—ã (–æ–Ω–∏ —á–∞—Å—Ç—å –ø—É–±–ª–∏—á–Ω–æ–≥–æ API)
  includeEntryExports: false,
};
```

---

### 2.2. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–π ignore –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

#### 2.2.1. Scripts - –Ω—É–∂–Ω–æ –ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å?

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ script:**

```bash
# smoke-test-server.ts
grep "smoke-test-server" packages/servers/yandex-tracker/package.json
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "test:smoke": "tsx scripts/smoke-test-server.ts"
# –í—ã–≤–æ–¥: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚úì –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ knip

# validate-tool-registration.ts
grep "validate-tool-registration" packages/servers/yandex-tracker/package.json
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "validate:tools": "tsx scripts/validate-tool-registration.ts"
# –í—ã–≤–æ–¥: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚úì –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ knip

# increment-build.ts
grep "increment-build" packages/servers/yandex-tracker/package.json
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ build:bundle
# –í—ã–≤–æ–¥: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚úì –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ knip

# list-tool-names.mjs, measure-tools-size.*
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –†—É—á–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
# –í—ã–≤–æ–¥: –ü–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã ‚úì –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ knip
```

**–†–µ—à–µ–Ω–∏–µ:** –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ `scripts/**`

#### 2.2.2. Test helpers - –∞–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –î–ª—è –∫–∞–∂–¥–æ–≥–æ helper –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
cd packages/servers/yandex-tracker

# assertion-helpers.ts
grep -r "assertion-helpers" tests/ | grep "import" | wc -l
# –ï—Å–ª–∏ > 0: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ knip –Ω–µ –≤–∏–¥–∏—Ç (ignore)
# –ï—Å–ª–∏ = 0: –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π (ignore –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

# attachment.fixture.ts
grep -r "attachment.fixture" tests/ | grep "import" | wc -l

# –ò —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö helpers
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**
- –ï—Å–ª–∏ helper –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: ignore (knip –æ—à–∏–±–æ—á–Ω–æ –ø–æ–º–µ—á–∞–µ—Ç)
- –ï—Å–ª–∏ helper –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –ø–æ–ª–µ–∑–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞: ignore (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –±—É–¥—É—â–µ–º—É)
- –ï—Å–ª–∏ helper –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥: —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º TODO

**–†–µ—à–µ–Ω–∏–µ:** –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ `tests/helpers/**` –∏ `tests/**/helpers/**`

#### 2.2.3. Factories - –ø—É–±–ª–∏—á–Ω—ã–π API –∏–ª–∏ –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥?

**–ê–Ω–∞–ª–∏–∑:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å exports –≤ package.json
cat packages/servers/yandex-tracker/package.json | grep -A 5 "exports"

# –î–æ—Å—Ç—É–ø–Ω—ã –ª–∏ factories —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API?
# –ï—Å–ª–∏ –¥–∞: —ç—Ç–æ intentional exports –¥–ª—è consumers
# –ï—Å–ª–∏ –Ω–µ—Ç: –≤–æ–∑–º–æ–∂–Ω–æ –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥
```

**–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è:**
1. –î–æ–ª–∂–Ω—ã –ª–∏ consumers –ø–∞–∫–µ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å factories?
2. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ factories –≤ –¥—Ä—É–≥–∏—Ö –ø–∞–∫–µ—Ç–∞—Ö?
3. –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±—É–¥—É—â–µ–º?

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**

**–í–∞—Ä–∏–∞–Ω—Ç A:** Factories - —á–∞—Å—Ç—å –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
```javascript
// knip.config.js
ignoredExports: [
  'create*',  // –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å create
]
```

**–í–∞—Ä–∏–∞–Ω—Ç B:** Factories - test utilities (–Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å)
```typescript
// –£–±—Ä–∞—Ç—å export –∏–∑ factories
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ tests/
```

**–í–∞—Ä–∏–∞–Ω—Ç C:** Factories - –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥ (—É–¥–∞–ª–∏—Ç—å)
```bash
# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ factories
rm packages/servers/yandex-tracker/src/tracker_api/dto/issue/dto.factories.ts
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í–∞—Ä–∏–∞–Ω—Ç A (–ø—É–±–ª–∏—á–Ω—ã–π API) - –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è consumers –∏ —Ç–µ—Å—Ç–æ–≤

---

### 2.3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è schema types

#### –ü—Ä–æ–±–ª–µ–º–∞:
```typescript
// Schema exports types
export type AddCommentParams = z.infer<typeof addCommentSchema>;
```

**Knip –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ unused, –Ω–æ —ç—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π API.**

#### –†–µ—à–µ–Ω–∏–µ:

```javascript
// knip.config.js
export default {
  // ...

  // –ù–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å entry exports (–ø—É–±–ª–∏—á–Ω—ã–π API)
  includeEntryExports: false,

  // –ò–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  ignoredExports: [
    '*Params',    // –í—Å–µ —Ç–∏–ø—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ Params
    '*Result',    // –í—Å–µ —Ç–∏–ø—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ Result
    '*Config',    // –í—Å–µ —Ç–∏–ø—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ Config
  ],
};
```

---

## ‚úÖ –≠–¢–ê–ü 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 3.1. –í–∞–ª–∏–¥–∞—Ü–∏—è knip.config.js

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω—Ñ–∏–≥–∞
node knip.config.js

# –ó–∞–ø—É—Å—Ç–∏—Ç—å knip —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
npm run knip

# –î–æ–ª–∂–Ω–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è:
# Unused files: 21 ‚Üí 0-5
# Unused exports: 42 ‚Üí 0-10
# Unused types: 45 ‚Üí 0-10
```

### 3.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ scripts –Ω–µ –ø–æ–º–µ—á–∞—é—Ç—Å—è
npm run knip 2>&1 | grep "scripts/"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ test helpers –Ω–µ –ø–æ–º–µ—á–∞—é—Ç—Å—è
npm run knip 2>&1 | grep "helpers/"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ factories –Ω–µ –ø–æ–º–µ—á–∞—é—Ç—Å—è (–µ—Å–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º)
npm run knip 2>&1 | grep "factories"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ
```

### 3.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π

```bash
# –ï—Å–ª–∏ knip –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ unused –∫–æ–¥
# –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å ignore –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π unused —Ñ–∞–π–ª
echo "export const REALLY_UNUSED = 'test';" > test-unused.ts

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ knip –µ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç
npm run knip | grep "test-unused"

# –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
rm test-unused.ts
```

---

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Knip –≤—Å–µ –µ—â–µ –Ω–∞—Ö–æ–¥–∏—Ç scripts

**–°–∏–º–ø—Ç–æ–º:**
```
Unused files: scripts/smoke-test-server.ts
```

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ ignore –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
ignore: [
  '**/scripts/**',  // –ù—É–∂–Ω—ã –¥–≤–æ–π–Ω—ã–µ –∑–≤–µ–∑–¥–æ—á–∫–∏
  // –ù–ï: 'scripts/**'  // –ù–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è packages/*/scripts
]
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Knip –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π unused –∫–æ–¥

**–°–∏–º–ø—Ç–æ–º:**
```
Knip reports 0 issues, but we know there's unused code
```

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –£—Ç–æ—á–Ω–∏—Ç—å entry points
entry: [
  'src/index.ts',
  'src/**/*.tool.ts',  // –í—Å–µ tools
  'src/**/*.definition.ts',  // –í—Å–µ definitions
]
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

**–°–∏–º–ø—Ç–æ–º:**
```
Knip conflicts with typescript/eslint
```

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .kniprc.json –≤–º–µ—Å—Ç–æ .js
// –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å compilerOptions
{
  compilerOptions: {
    // ...
  }
}
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ/–ø–æ—Å–ª–µ

### –î–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```
Unused files: 21
Unused exports: 42
Unused types: 45
Total warnings: 108
```

### –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ—Å–ª–µ:
```
Unused files: 0-5 (—Ä–µ–∞–ª—å–Ω—ã–µ unused)
Unused exports: 0-10 (—Ä–µ–∞–ª—å–Ω—ã–µ unused)
Unused types: 0-10 (—Ä–µ–∞–ª—å–Ω—ã–µ unused)
Total warnings: 0-25
```

---

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ knip.config.js

```javascript
/**
 * Knip Configuration
 *
 * ## –ü–æ—á–µ–º—É –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º scripts/?
 * Scripts –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ npm run –∫–æ–º–∞–Ω–¥—ã, knip –Ω–µ –≤–∏–¥–∏—Ç —ç—Ç–∏ —Å–≤—è–∑–∏.
 *
 * ## –ü–æ—á–µ–º—É –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º test helpers?
 * Test helpers - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤.
 * Knip –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç test files –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
 *
 * ## –ü–æ—á–µ–º—É –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º factories?
 * Factories - —á–∞—Å—Ç—å –ø—É–±–ª–∏—á–Ω–æ–≥–æ API –¥–ª—è consumers –ø–∞–∫–µ—Ç–∞.
 *
 * ## –ü–æ—á–µ–º—É –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º schema types?
 * Schema types (*Params, *Result) —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –¥–ª—è TypeScript consumers.
 */
```

### –û–±–Ω–æ–≤–∏—Ç—å CLAUDE.md (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```markdown
## Knip

Knip –Ω–∞—Ö–æ–¥–∏—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `knip.config.js`.

**–ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
- `scripts/**` - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ npm run
- `tests/helpers/**` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- Factories - –ø—É–±–ª–∏—á–Ω—ã–π API
- Schema types - –ø—É–±–ª–∏—á–Ω—ã–π API

–ó–∞–ø—É—Å–∫: `npm run knip`
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [ ] `knip.config.js` —Å–æ–∑–¥–∞–Ω
- [ ] –í—Å–µ scripts –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
- [ ] –í—Å–µ test helpers –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
- [ ] Factories –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã (ignore –∏–ª–∏ —É–¥–∞–ª–µ–Ω—ã)
- [ ] Schema types –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
- [ ] `npm run knip` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç < 25 warnings
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –ù–µ—Ç –ª–æ–∂–Ω–æ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö warnings

---

## ‚è≠Ô∏è –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞:
- –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ 2.1 (—Ü–∏—Ä–∫—É–ª—è—Ä–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
- –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é: `npm run validate`
- –°–æ–∑–¥–∞—Ç—å commit —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å–æ–∑–¥–∞—Ç—å PR
