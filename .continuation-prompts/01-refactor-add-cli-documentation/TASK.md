# –≠—Ç–∞–ø 1: –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é CLI –∏ Tool Search –≤ ARCHITECTURE.md

## üéØ –¶–µ–ª—å

**–ü—Ä–æ–±–ª–µ–º–∞:** CLI —Å–ª–æ–π –∏ Tool Search System –Ω–µ –æ–ø–∏—Å–∞–Ω—ã –≤ ARCHITECTURE.md. –ù–æ–≤—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –ø–æ–Ω–∏–º–∞—é—Ç –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∫—Ä–∞—Ç–∫–∏–µ —Å–µ–∫—Ü–∏–∏ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—ã–µ README.

---

## ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å

### 1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º:**
- `src/cli/README.md` ‚Äî –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ CLI
- `src/mcp/search/` ‚Äî –∫–æ–¥ Tool Search System
- `ARCHITECTURE.md` ‚Äî —Ç–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 2. –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é "CLI Layer" –≤ ARCHITECTURE.md

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ —Å–µ–∫—Ü–∏–∏ "MCP Tools" (–æ–∫–æ–ª–æ —Å—Ç—Ä–æ–∫–∏ 276)

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
```markdown
### CLI Layer

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è MCP —Å–µ—Ä–≤–µ—Ä–∞ –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- `cli/connectors/` ‚Äî MCP Client Connectors (Claude Desktop, Claude Code, Codex)
  - Strategy Pattern: MCPConnector –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
  - BaseConnector ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–æ–≥–∏–∫–∞ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, file I/O)
  - ConnectorRegistry ‚Äî —Ä–µ–µ—Å—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤
- `cli/commands/` ‚Äî CLI Commands (connect, disconnect, status, list, validate)
- `cli/utils/` ‚Äî CLI Utilities (config manager, interactive prompter, file manager)

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (Inquirer.js)
- ‚úÖ –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (~/.yandex-tracker-mcp/config.json)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ –∏ orgId

**–î–µ—Ç–∞–ª–∏:** [src/cli/README.md](src/cli/README.md)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
npm run mcp:connect    # –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –∫–ª–∏–µ–Ω—Ç—É
npm run mcp:status     # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
npm run mcp:disconnect # –û—Ç–∫–ª—é—á–∏—Ç—å
```
```

### 3. –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é "Tool Search System" –≤ ARCHITECTURE.md

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ —Å–µ–∫—Ü–∏–∏ –ø—Ä–æ MCP Tools (–æ–∫–æ–ª–æ —Å—Ç—Ä–æ–∫–∏ 276)

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
```markdown
### Tool Search System

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ—Ö tool descriptions –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ —Ç—Ä–∞—Ç–∏—Ç –º–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ LLM.

**–†–µ—à–µ–Ω–∏–µ:**
- **Compile-time –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** (`npm run generate:index`) —Å–æ–∑–¥–∞—ë—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω–¥–µ–∫—Å –≤—Å–µ—Ö tools
- **Runtime –ø–æ–∏—Å–∫** —á–µ—Ä–µ–∑ 5 —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–æ–∏—Å–∫–∞
- **LRU –∫–µ—à** –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
mcp/search/
‚îú‚îÄ‚îÄ tool-search-engine.ts      # –î–≤–∏–∂–æ–∫ –ø–æ–∏—Å–∫–∞ —Å LRU –∫–µ—à–µ–º
‚îú‚îÄ‚îÄ generated-index.ts          # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω–¥–µ–∫—Å (auto-generated)
‚îú‚îÄ‚îÄ strategies/                 # 5 —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–æ–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ name-search.strategy.ts           # –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ tool
‚îÇ   ‚îú‚îÄ‚îÄ description-search.strategy.ts    # –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
‚îÇ   ‚îú‚îÄ‚îÄ category-search.strategy.ts       # –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ fuzzy-search.strategy.ts          # –ù–µ—á—ë—Ç–∫–∏–π –ø–æ–∏—Å–∫ (Levenshtein)
‚îÇ   ‚îî‚îÄ‚îÄ weighted-combined.strategy.ts     # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å –≤–µ—Å–∞–º–∏
‚îî‚îÄ‚îÄ scoring/                    # –°–∫–æ—Ä–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

**Workflow:**
1. **Build time:** `npm run generate:index` —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ `*.tool.ts` —Ñ–∞–π–ª—ã
2. **Build time:** –ò–∑–≤–ª–µ–∫–∞–µ—Ç `static readonly METADATA` –∏–∑ –∫–∞–∂–¥–æ–≥–æ tool
3. **Build time:** –°–æ–∑–¥–∞—ë—Ç `generated-index.ts` —Å compile-time –∏–Ω–¥–µ–∫—Å–æ–º
4. **Runtime:** ToolSearchEngine –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
5. **Runtime:** LRU –∫–µ—à —Ö—Ä–∞–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–ò –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π tool –ø–æ –∑–∞–ø—Ä–æ—Å—É –≤–º–µ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö definitions (~80-90% —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤).

**Tool –¥–ª—è –ø–æ–∏—Å–∫–∞:** `SearchToolsTool` (`fractalizer_mcp_yandex_tracker_search_tools`)
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–£–±–µ–¥–∏—Å—å, —á—Ç–æ ARCHITECTURE.md –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç—ã:
- **–ñ—ë—Å—Ç–∫–∏–π –ª–∏–º–∏—Ç:** 600 —Å—Ç—Ä–æ–∫
- **–¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** ~500 —Å—Ç—Ä–æ–∫

–ï—Å–ª–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç ‚Äî —Å–æ–∫—Ä–∞—Ç–∏ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ CLAUDE.md (—Å–µ–∫—Ü–∏—è "–ü—Ä–∞–≤–∏–ª–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è").

---

## üß™ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] ARCHITECTURE.md —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é "CLI Layer" —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ `src/cli/README.md`
- [ ] ARCHITECTURE.md —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é "Tool Search System" —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- [ ] –°–µ–∫—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–Ω–µ –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ)
- [ ] `npm run validate:docs` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ (–ª–∏–º–∏—Ç—ã —Å–æ–±–ª—é–¥–µ–Ω—ã)
- [ ] –í—Å–µ —Å—Å—ã–ª–∫–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
npm run validate:docs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
npm run validate
```

---

## üìù –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   ```bash
   git add ARCHITECTURE.md
   git commit -m "docs: –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é CLI –∏ Tool Search –≤ ARCHITECTURE.md"
   ```

2. **–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª:**
   ```bash
   rm -rf .continuation-prompts/01-refactor-add-cli-documentation
   ```

3. **–ó–∞–ø—É—à–∏—Ç—å –≤ feature branch:**
   ```bash
   git push -u origin claude/refactor-add-cli-documentation-<session-id>
   ```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **–ù–ï –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π** `src/cli/README.md` ‚Äî –æ–Ω —É–∂–µ —Ö–æ—Ä–æ—à
- **–ù–ï –¥—É–±–ª–∏—Ä—É–π** –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ CLI README ‚Äî —Ç–æ–ª—å–∫–æ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ + —Å—Å—ã–ª–∫–∞
- **–°–æ–±–ª—é–¥–∞–π –ª–∏–º–∏—Ç—ã** ‚Äî –µ—Å–ª–∏ ARCHITECTURE.md > 600 —Å—Ç—Ä–æ–∫, —Å–æ–∫—Ä–∞—â–∞–π –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º CLAUDE.md
