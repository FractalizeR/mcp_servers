# Continuation Prompt: –≠—Ç–∞–ø 3 - –ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è **–≠—Ç–∞–ø–∞ 3** (—Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ) —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞ MCP Server Yandex Tracker.

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-11-16
**–í–µ—Ç–∫–∞:** `claude/improve-test-coverage-018qgWyfygUQQts4aw8wTnkM`

**–ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 2:**
- Lines: ~73% ‚Üí **–¶–µ–ª—å —ç—Ç–∞–ø–∞: 76%+**
- Functions: ~80% ‚Üí **–¶–µ–ª—å —ç—Ç–∞–ø–∞: 85%+**
- Statements: ~73% ‚Üí **–¶–µ–ª—å —ç—Ç–∞–ø–∞: 76%+**
- Branches: ~70% ‚Üí **–¶–µ–ª—å —ç—Ç–∞–ø–∞: 75%+**

**–ü—Ä–æ–≤–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:** 17 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (–ö–†–ò–¢–ò–ß–ù–û!)

### –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —ç—Ç–∞–ø—ã
‚úÖ **–≠—Ç–∞–ø 1 –∑–∞–≤–µ—Ä—à—ë–Ω** - API Operations, Facade, HTTP Client
‚úÖ **–≠—Ç–∞–ø 2 –∑–∞–≤–µ—Ä—à—ë–Ω** - MCP Tools, Composition Root

---

## –¶–µ–ª–∏ –≠—Ç–∞–ø–∞ 3

**–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å
**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** +3% –ø–æ–∫—Ä—ã—Ç–∏—è + –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ~76% –æ–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ + 100% –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**
1. **–ö–†–ò–¢–ò–ß–ù–û:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å 17 –ø—Ä–æ–≤–∞–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
2. –î–æ–≤–µ—Å—Ç–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ –¥–æ 76%+
3. –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å CI/CD pipeline

---

## –ó–∞–¥–∞—á–∏

### –ó–∞–¥–∞—á–∞ 3.1: –ö–†–ò–¢–ò–ß–ù–û - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** 17 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø–∞–¥–∞—é—Ç —Å timeout (5000ms)

**–ü—Ä–æ–≤–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:**
1. `tests/integration/mcp/tools/api/issues/get/get-issues.tool.integration.test.ts` - 8 failed
2. `tests/integration/mcp/tools/api/issues/find/find-issues.tool.integration.test.ts` - 9 failed

**–ü—Ä–∏—á–∏–Ω–∞:** Timeout 5000ms - –≤–µ—Ä–æ—è—Ç–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É API –Ø–Ω–¥–µ–∫—Å.–¢—Ä–µ–∫–µ—Ä–∞.

---

#### 3.1.1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

**–®–∞–≥ 1:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª .env
cat .env | grep TRACKER_API

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
# TRACKER_API_BASE_URL=https://api.tracker.yandex.net
# TRACKER_API_TOKEN=<—Ç–æ–∫–µ–Ω>
# TRACKER_API_ORG_ID=<org_id>
```

**–®–∞–≥ 2:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–∏–Ω –ø—Ä–æ–≤–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
npx vitest run tests/integration/mcp/tools/api/issues/get/get-issues.tool.integration.test.ts --reporter=verbose
```

**–®–∞–≥ 3:** –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–∫–∏

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `TRACKER_API_TOKEN` –≤ `.env`
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π URL

---

#### 3.1.2. –†–µ—à–µ–Ω–∏–µ –ê: Skip —Ç–µ—Å—Ç—ã –µ—Å–ª–∏ –Ω–µ—Ç API —Ç–æ–∫–µ–Ω–∞ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å—Å—è (skip), –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É API.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

1. –û–±–Ω–æ–≤–∏—Ç—å `tests/integration/mcp/tools/api/issues/get/get-issues.tool.integration.test.ts`:

```typescript
import { describe, it, expect, beforeAll, afterAll } from 'vitest';

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–æ–∫–µ–Ω–∞ API
const TRACKER_API_TOKEN = process.env.TRACKER_API_TOKEN;
const hasApiAccess = !!TRACKER_API_TOKEN;

// –£—Å–ª–æ–≤–Ω—ã–π describe - skip –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞
const describeOrSkip = hasApiAccess ? describe : describe.skip;

describeOrSkip('get-issues integration tests', () => {
  // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã...

  // –î–æ–±–∞–≤–∏—Ç—å –≤ beforeAll –ø—Ä–æ–≤–µ—Ä–∫—É
  beforeAll(() => {
    if (!hasApiAccess) {
      console.warn('‚ö†Ô∏è  Skipping integration tests: TRACKER_API_TOKEN not set');
    }
  });

  // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
});
```

2. –û–±–Ω–æ–≤–∏—Ç—å `tests/integration/mcp/tools/api/issues/find/find-issues.tool.integration.test.ts` –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

3. –°–æ–∑–¥–∞—Ç—å `tests/integration/setup.ts` –¥–ª—è –æ–±—â–µ–π –ª–æ–≥–∏–∫–∏:

```typescript
// tests/integration/setup.ts
export const hasTrackerApiAccess = (): boolean => {
  return !!(
    process.env.TRACKER_API_TOKEN &&
    process.env.TRACKER_API_BASE_URL &&
    process.env.TRACKER_API_ORG_ID
  );
};

export const skipIfNoApiAccess = (testName: string) => {
  if (!hasTrackerApiAccess()) {
    console.warn(`‚ö†Ô∏è  Skipping ${testName}: API credentials not configured`);
  }
  return hasTrackerApiAccess();
};
```

4. –û–±–Ω–æ–≤–∏—Ç—å –æ–±–∞ —Ç–µ—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º helper:

```typescript
import { skipIfNoApiAccess } from '@integration/setup.js';

const describeOrSkip = skipIfNoApiAccess('get-issues integration')
  ? describe
  : describe.skip;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ—Å—Ç—ã –±—É–¥—É—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å—Å—è (skip) –≤–º–µ—Å—Ç–æ –ø–∞–¥–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω–µ—Ç API —Ç–æ–∫–µ–Ω–∞.

---

#### 3.1.3. –†–µ—à–µ–Ω–∏–µ –ë: Mock API —á–µ—Ä–µ–∑ nock/msw (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API:

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nock:**

```bash
npm install --save-dev nock
```

**–°–æ–∑–¥–∞—Ç—å mock –¥–ª—è API:**

```typescript
// tests/integration/mocks/tracker-api.mock.ts
import nock from 'nock';

export const mockTrackerApi = () => {
  const baseUrl = process.env.TRACKER_API_BASE_URL || 'https://api.tracker.yandex.net';

  // Mock –¥–ª—è GET /v3/issues/{issueKey}
  nock(baseUrl)
    .get(/\/v3\/issues\/[A-Z]+-\d+/)
    .reply(200, {
      id: '1',
      key: 'TEST-1',
      summary: 'Test Issue',
      status: { key: 'open' },
    });

  // Mock –¥–ª—è POST /v3/issues/_search
  nock(baseUrl)
    .post('/v3/issues/_search')
    .reply(200, [
      {
        id: '1',
        key: 'TEST-1',
        summary: 'Test Issue',
      },
    ]);

  // –î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ endpoints –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
};

export const cleanupMocks = () => {
  nock.cleanAll();
};
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–∞—Ö:**

```typescript
import { mockTrackerApi, cleanupMocks } from '@integration/mocks/tracker-api.mock.js';

describe('get-issues integration tests', () => {
  beforeAll(() => {
    if (!hasTrackerApiAccess()) {
      mockTrackerApi(); // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mock –µ—Å–ª–∏ –Ω–µ—Ç API
    }
  });

  afterAll(() => {
    cleanupMocks();
  });

  // –¢–µ—Å—Ç—ã...
});
```

---

#### 3.1.4. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ timeout –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –º–µ–¥–ª–µ–Ω–Ω–æ–º API:

**–û–±–Ω–æ–≤–∏—Ç—å vitest.config.ts:**

```typescript
export default defineConfig({
  test: {
    // ...—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

    // –£–≤–µ–ª–∏—á–∏—Ç—å timeout –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
    testTimeout: 10000, // 10 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 5

    // –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É —Ñ–∞–π–ª–æ–≤
    include: [
      'tests/**/*.test.ts',
      'tests/**/*.spec.ts'
    ],
  },
});
```

**–ò–ª–∏ –≤ —Å–∞–º–∏—Ö —Ç–µ—Å—Ç–∞—Ö:**

```typescript
describe('get-issues integration tests', () => {
  // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å timeout –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –≤ suite
  it('should get issue by key', async () => {
    // ...
  }, 10000); // 10 —Å–µ–∫—É–Ω–¥ timeout
});
```

---

### –ó–∞–¥–∞—á–∞ 3.2: Search Strategies tests (+3% –ø–æ–∫—Ä—ã—Ç–∏—è)

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–ª—å–∫–æ name-search.strategy –ø–æ–∫—Ä—ã—Ç –Ω–∞ 100%, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

–°–æ–∑–¥–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–æ–∏—Å–∫–∞ (–ø–æ –æ–±—Ä–∞–∑—Ü—É `tests/unit/mcp/search/strategies/name-search.strategy.test.ts`).

---

#### ‚úÖ 3.2.1. –í–´–ü–û–õ–ù–ï–ù–û - CategorySearchStrategy tests

**–§–∞–π–ª:** `tests/unit/mcp/search/strategies/category-search.strategy.test.ts`
**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–π:** `src/mcp/search/strategies/category-search.strategy.ts`
**–°—Ç–∞—Ç—É—Å:** 19 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç

**–¢–µ—Å—Ç—ã:**
1. ‚úÖ should find exact category match
2. ‚úÖ should find partial category match
3. ‚úÖ should be case insensitive
4. ‚úÖ should return 0 score for non-matching category
5. ‚úÖ should handle missing category in metadata
6. ‚úÖ should prioritize exact matches over partial
7. ‚úÖ should search in multiple categories if present

**–ü—Ä–∏–º–µ—Ä:**

```typescript
import { describe, it, expect } from 'vitest';
import { CategorySearchStrategy } from './category-search.strategy.js';

describe('CategorySearchStrategy', () => {
  const strategy = new CategorySearchStrategy();

  it('should find exact category match', () => {
    const metadata = {
      name: 'get-issues',
      description: 'Get issues',
      category: 'issues',
      tags: [],
    };

    const score = strategy.search('issues', metadata);
    expect(score).toBeGreaterThan(0);
  });

  it('should be case insensitive', () => {
    const metadata = {
      name: 'get-issues',
      description: 'Get issues',
      category: 'Issues',
      tags: [],
    };

    const score = strategy.search('issues', metadata);
    expect(score).toBeGreaterThan(0);
  });

  it('should return 0 for non-matching category', () => {
    const metadata = {
      name: 'get-issues',
      description: 'Get issues',
      category: 'users',
      tags: [],
    };

    const score = strategy.search('issues', metadata);
    expect(score).toBe(0);
  });
});
```

---

#### ‚úÖ 3.2.2. –í–´–ü–û–õ–ù–ï–ù–û - DescriptionSearchStrategy tests

**–§–∞–π–ª:** `tests/unit/mcp/search/strategies/description-search.strategy.test.ts`
**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–π:** `src/mcp/search/strategies/description-search.strategy.ts`
**–°—Ç–∞—Ç—É—Å:** 17 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç

**–¢–µ—Å—Ç—ã:**
1. ‚úÖ should find query in description
2. ‚úÖ should be case insensitive
3. ‚úÖ should return 0 for non-matching description
4. ‚úÖ should handle missing description
5. ‚úÖ should score higher for multiple occurrences
6. ‚úÖ should find partial word matches

---

#### 3.2.3. ExactMatchStrategy tests

**–§–∞–π–ª:** `tests/unit/mcp/search/strategies/exact-match.strategy.test.ts`
**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–π:** `src/mcp/search/strategies/exact-match.strategy.ts`

**–¢–µ—Å—Ç—ã:**
1. ‚úÖ should return high score for exact name match
2. ‚úÖ should be case insensitive
3. ‚úÖ should return 0 for non-exact match
4. ‚úÖ should handle partial matches (score lower than exact)
5. ‚úÖ should ignore whitespace differences

---

#### ‚úÖ 3.2.4. –í–´–ü–û–õ–ù–ï–ù–û - FuzzySearchStrategy tests

**–§–∞–π–ª:** `tests/unit/mcp/search/strategies/fuzzy-search.strategy.test.ts`
**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–π:** `src/mcp/search/strategies/fuzzy-search.strategy.ts`
**–°—Ç–∞—Ç—É—Å:** 28 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç

**–¢–µ—Å—Ç—ã:**
1. ‚úÖ should find similar strings (typos)
2. ‚úÖ should score by similarity distance
3. ‚úÖ should handle character transpositions
4. ‚úÖ should handle missing characters
5. ‚úÖ should handle extra characters
6. ‚úÖ should return 0 for very dissimilar strings

---

### –ó–∞–¥–∞—á–∞ 3.3: –£–ª—É—á—à–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤

**–¶–µ–ª—å:** –ü–æ–≤—ã—Å–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –≤–µ—Ç–æ–∫ (branches) –≤ —É–∂–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö

#### 3.3.1. GetIssuesOperation - –ø–æ–∫—Ä—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ 76-81

**–§–∞–π–ª:** `tests/unit/tracker_api/api_operations/issue/get/get-issues.operation.test.ts`

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª `src/tracker_api/api_operations/issue/get/get-issues.operation.ts:76-81` –∏ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–µ–ø–æ–∫—Ä—ã—Ç—ã—Ö –≤–µ—Ç–æ–∫.

#### 3.3.2. ResponseFieldFilter - –ø–æ–∫—Ä—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ 58, 84, 92

**–§–∞–π–ª:** `tests/unit/mcp/utils/response-field-filter.test.ts`

–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è edge cases:
- –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –ø–æ–ª–µ–π
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ null –∑–Ω–∞—á–µ–Ω–∏—è
- –ú–∞—Å—Å–∏–≤—ã –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

---

### –ó–∞–¥–∞—á–∞ 3.4: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

#### 3.4.1. –û–±–Ω–æ–≤–∏—Ç—å tests/README.md

–î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é –ø—Ä–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:

```markdown
## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Ç—Ä–µ–±—É—é—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É API –Ø–Ω–¥–µ–∫—Å.–¢—Ä–µ–∫–µ—Ä–∞.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
TRACKER_API_BASE_URL=https://api.tracker.yandex.net
TRACKER_API_TOKEN=<your_token>
TRACKER_API_ORG_ID=<your_org_id>
```

### –ó–∞–ø—É—Å–∫

```bash
# –í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
npm run test:integration

# –ë–µ–∑ API —Ç–æ–∫–µ–Ω–∞ - —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –ø—Ä–æ–ø—É—â–µ–Ω—ã (skip)
npm run test:integration  # ‚ö†Ô∏è Tests skipped
```

### CI/CD

–í CI/CD pipeline –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è,
–µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è API.
```

#### 3.4.2. –û–±–Ω–æ–≤–∏—Ç—å .env.example

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env.example` —Å —à–∞–±–ª–æ–Ω–æ–º:

```env
# –Ø–Ω–¥–µ–∫—Å.–¢—Ä–µ–∫–µ—Ä API credentials
# –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
TRACKER_API_BASE_URL=https://api.tracker.yandex.net
TRACKER_API_TOKEN=your_oauth_token_here
TRACKER_API_ORG_ID=your_organization_id
```

#### 3.4.3. –û–±–Ω–æ–≤–∏—Ç—å package.json scripts

–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤:

```json
{
  "scripts": {
    "test": "vitest",
    "test:unit": "vitest run tests/unit",
    "test:integration": "vitest run tests/integration",
    "test:e2e": "vitest run tests/e2e",
    "test:coverage": "vitest run --coverage",
    "test:coverage:unit": "vitest run tests/unit --coverage"
  }
}
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –≠—Ç–∞–ø–∞ 3

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (Must Have)

```bash
# 1. –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –∏–ª–∏ skip
npm test
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 0 failed (–¥–æ–ø—É—Å—Ç–∏–º—ã skipped)

# 2. Coverage –¥–æ–ª–∂–µ–Ω –¥–æ—Å—Ç–∏—á—å —Ü–µ–ª–µ–π
npx vitest run tests/unit --coverage
# Lines: 76%+
# Functions: 85%+
# Statements: 76%+
# Branches: 75%+

# 3. CI/CD pipeline –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å
npm run validate
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ Success
```

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (Nice to Have)

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º API (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–∫–µ–Ω)
- –í—Å–µ TODO –≤ –∫–æ–¥–µ –∑–∞–∫—Ä—ã—Ç—ã
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
npm run test:integration

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã —Å coverage
npm run test:coverage:unit

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–¥–∏–Ω integration test
npx vitest run tests/integration/mcp/tools/api/issues/get/get-issues.tool.integration.test.ts --reporter=verbose

# –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
npm run validate

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
npx vitest run tests/unit/mcp/search/strategies/ --coverage
```

---

## –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á:

- [ ] ‚úÖ –í—Å–µ unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (0 failed)
- [ ] ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ª–∏–±–æ –ø—Ä–æ—Ö–æ–¥—è—Ç, –ª–∏–±–æ skip (0 failed)
- [ ] ‚úÖ Coverage >= 76% (lines)
- [ ] ‚úÖ Coverage >= 85% (functions)
- [ ] ‚úÖ Coverage >= 76% (statements)
- [ ] ‚úÖ Coverage >= 75% (branches)
- [ ] ‚úÖ `npm run validate` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (tests/README.md, .env.example)
- [ ] ‚úÖ package.json scripts –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- [ ] ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
- [ ] ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –Ω–∞ –≤–µ—Ç–∫—É
- [ ] üéâ –ì–æ—Ç–æ–≤–æ –∫ —Å–æ–∑–¥–∞–Ω–∏—é Pull Request!

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 3

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å Pull Request –Ω–∞ main branch
2. ‚úÖ –£–∫–∞–∑–∞—Ç—å –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ PR:
   - –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è —Å 46% –¥–æ 76%+
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 17 –ø—Ä–æ–≤–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–æ X –Ω–æ–≤—ã—Ö unit —Ç–µ—Å—Ç–æ–≤
3. ‚úÖ –î–æ–∂–¥–∞—Ç—å—Å—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è CI/CD –≤ PR
4. ‚úÖ Merge –≤ main

---

## –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã

**–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è reference:**
- `tests/unit/mcp/search/strategies/name-search.strategy.test.ts` - —à–∞–±–ª–æ–Ω –¥–ª—è search strategies
- `tests/integration/mcp/tools/api/issues/get/get-issues.tool.integration.test.ts` - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π integration test
- `tests/README.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `CLAUDE.md` - –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `src/mcp/search/README.md` - –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ search engine
- `vitest.config.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

---

**–í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-16
**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞:** Claude Code
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≠—Ç–∞–ø–∞ 2

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –û –ø—Ä–æ–≤–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö

**–í–ê–ñ–ù–û:** 17 –ø—Ä–æ–≤–∞–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–µ—à–µ–Ω–∞ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ. –î–∞–∂–µ –µ—Å–ª–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ –±—É–¥–µ—Ç 100%, –Ω–æ —Ç–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç - —ç—Ç–æ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ.

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫:**
1. **–°–Ω–∞—á–∞–ª–∞:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–ó–∞–¥–∞—á–∞ 3.1)
2. **–ó–∞—Ç–µ–º:** –î–æ–±–∞–≤–∏—Ç—å search strategies —Ç–µ—Å—Ç—ã (–ó–∞–¥–∞—á–∞ 3.2)
3. **–ù–∞–∫–æ–Ω–µ—Ü:** –ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–ó–∞–¥–∞—á–∏ 3.3-3.4)

### –û –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç–æ–≤

–ù–µ –≥–Ω–∞—Ç—å—Å—è –∑–∞ 100% coverage - –ª—É—á—à–µ –º–µ–Ω—å—à–µ —Ç–µ—Å—Ç–æ–≤, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å edge cases
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å error handling
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –ù–ï —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ getter/setter
- –ù–ï —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (DTO/Entities)
